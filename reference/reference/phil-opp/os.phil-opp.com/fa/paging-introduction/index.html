<!doctype html>

<html lang="fa">

<head>
    <meta charset="UTF-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark">
    <meta name="description" content="ุฏุฑ ุงู ูพุณุช ุตูุญูโุจูุฏุ ฺฉ ุทุฑุญ ูุฏุฑุช ุญุงูุธู ุจุณุงุฑ ุฑุงุฌ ฺฉู ูุง ูุฒ ุจุฑุง ุณุณุชูโุนุงูู ุฎูุฏ ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏุ ูุนุฑู ูโุดูุฏ. ุงู ูพุณุช ุชูุถุญ ูโุฏูุฏ ฺฉู ฺุฑุง ุงุฒููู ุณุงโฆ">
    <meta name="author" content="Philipp Oppermann">

    
        <link rel="canonical" href="index.html" />
    
    <link href="../../css/edition-2/main.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="RSS feed for os.phil-opp.com" href="../../rss.xml" />

    <script>
        let theme = localStorage.getItem("theme");
        if (theme != null) {
            document.documentElement.setAttribute("data-theme", theme);
        }
    </script>

    <script async src="../../js/edition-2/main.js"></script>

    <title>ููุฏููโุง ุจุฑ ุตูุญูโุจูุฏ | Writing an OS in Rust</title>
</head>

<body>
    <div class="container content">
        <header class="masthead">
            <div style="position:relative">
                <h2 class="masthead-title">
                    <a href="../../index.html" title="Home">Writing an OS in Rust</a>
                </h2>
                <p><small>Philipp&nbsp;Oppermann's&nbsp;blog</small></p>
                
    <aside id="all-posts-link"><a href="https://os.phil-opp.com/fa" title="All Posts">ยซ ููู ูพุณุชโูุง</a></aside>

            </div>
        </header>

        <div class="theme-switch">
            <div class="light-switch" onclick="toggle_lights()" title="Switch between light and dark theme"></div>
            <div class="light-switch-reset" onclick="clear_theme_override()" title="Clear the theme override and go back to the system theme"></div>
        </div>

        <div>
            
<aside id="toc-aside" class="right-to-left">
        <h2>ููุฑุณุช ูุทุงูุจ</h2>
    <ol>
        <li>
            <a href="index.html#mhfzt-z-hfzh">ูุญุงูุธุช ุงุฒ ุญุงูุธู</a>
            
        </li><li>
            <a href="index.html#qt-hbndy">ูุทุนูโุจูุฏ</a>
            <ol>
                <li>
                    <a href="index.html#hfzh-mjzy">ุญุงูุธู ูุฌุงุฒ</a>
                </li><li>
                    <a href="index.html#tkhhtkhh-shdn">ุชฺฉูโุชฺฉู ุดุฏู</a>
                </li>
            </ol>
        </li><li>
            <a href="index.html#sfhhbndy">ุตูุญูโุจูุฏ</a>
            <ol>
                <li>
                    <a href="index.html#tkhhtkhh-shdn-mkhfy">ุชฺฉูโุชฺฉู ุดุฏู ูุฎู</a>
                </li><li>
                    <a href="index.html#jdwl-sfhhh">ุฌุฏูู ุตูุญูโูุง</a>
                </li><li>
                    <a href="index.html#jdwl-hy-sfhh-chnd-sthy">ุฌุฏูู ูุง ุตูุญู ฺูุฏ ุณุทุญ</a>
                </li>
            </ol>
        </li><li>
            <a href="index.html#sfhhbndy-dr-x86-64">ุตูุญูโุจูุฏ ุฏุฑ x86_64</a>
            <ol>
                <li>
                    <a href="index.html#mthly-z-trjmh">ูุซุงู ุงุฒ ุชุฑุฌูู</a>
                </li><li>
                    <a href="index.html#qlb-jdwl-sfhh">ูุงูุจ ุฌุฏูู ุตูุญู</a>
                </li><li>
                    <a href="index.html#bfr-trjmh-lookaside">ุจุงูุฑ ุชุฑุฌูู Lookaside</a>
                </li>
            </ol>
        </li><li>
            <a href="index.html#pydhszy">ูพุงุฏูโุณุงุฒ</a>
            <ol>
                <li>
                    <a href="index.html#khthy-sfhh">ุฎุทุงูุง ุตูุญู</a>
                </li><li>
                    <a href="index.html#dstrsy-bh-jdwlhy-sfhh">ุฏุณุชุฑุณ ุจู ุฌุฏููโูุง ุตูุญู</a>
                </li>
            </ol>
        </li><li>
            <a href="index.html#khlsh">ุฎูุงุตู</a>
            
        </li><li>
            <a href="index.html#b-dy-chyst">ุจุนุฏ ฺุณุชุ</a>
            
        </li>
        <li class="toc-comments-link"><a href="index.html#comments">ูุธุฑุงุช</a></li>
    </ol>
</aside>

            <main>
    <div class="right-to-left">
    <h1>ููุฏููโุง ุจุฑ ุตูุญูโุจูุฏ</h1>
    <time datetime="2019-01-14" class="post-date">
        Jan 14, 2019
        
    </time>
    </div>

    
        <div class="warning right-to-left">
            
            
            <p>
            <b>ูุญุชูุง ุชุฑุฌูู ุดุฏู:</b>
            ุงู ฺฉ ุชุฑุฌูู ุงุฒ ุฌุงูุนู ฺฉุงุฑุจุฑุงู ุจุฑุง ูพุณุช <strong><a href="../../paging-introduction/index.html">Introduction to Paging</a></strong> ุงุณุช. ููฺฉู ุงุณุช ูุงูุตุ ููุณูุฎ ุดุฏู ุง ุฏุงุฑุง ุฎุทุง ุจุงุดุฏ. ูุทูุง ูุฑ ฺฏููู ูุดฺฉู ุฑุง ุฏุฑ <a href="https://github.com/phil-opp/blog_os/issues/908">ุงู ุงุดู</a> ฺฏุฒุงุฑุด ุฏูุฏ!
            </p>
            <p>
                ุชุฑุฌูู ุชูุณุท <a href="https://github.com/hamidrezakp">@hamidrezakp</a> ู <a href="https://github.com/MHBahrampour">@MHBahrampour</a>.</p>
            </div>
    

    <div class="right-to-left">
    <p>ุฏุฑ ุงู ูพุณุช <em>ุตูุญูโุจูุฏ</em>ุ ฺฉ ุทุฑุญ ูุฏุฑุช ุญุงูุธู ุจุณุงุฑ ุฑุงุฌ ฺฉู ูุง ูุฒ ุจุฑุง ุณุณุชูโุนุงูู ุฎูุฏ ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏุ ูุนุฑู ูโุดูุฏ. ุงู ูพุณุช ุชูุถุญ ูโุฏูุฏ ฺฉู ฺุฑุง ุงุฒููู ุณุงุฒ ุญุงูุธู ููุฑุฏ ูุงุฒ ุงุณุชุ ูุทุนูโุจูุฏ ฺฺฏููู ฺฉุงุฑ ูโฺฉูุฏุ <em>ุญุงูุธู ูุฌุงุฒ</em> ฺุณุช ู ฺฺฏููู ุตูุญูโุจูุฏ ูุดฺฉูุงุช ุชูุณู ุญุงูุธู ุฑุง ุญู ู ฺฉูุฏ. ููฺูู ุทุฑุญ ุฌุฏููโูุง ุตูุญู ฺูุฏ ุณุทุญ ุฑุง ุฏุฑ ูุนูุงุฑ x86_64 ุจุฑุฑุณ ูโฺฉูุฏ.</p>
<span id="continue-reading"></span>
<p>ุงู ุจูุงฺฏ ุจุตูุฑุช ุขุฒุงุฏ ุฑู <a href="https://github.com/phil-opp/blog_os">ฺฏุชโูุงุจ</a> ุชูุณุนู ุฏุงุฏู ุดุฏู ุงุณุช. ุงฺฏุฑ ุดูุง ูุดฺฉู ุง ุณูุงู ุฏุงุฑุฏุ ูุทูุงู ุขูโุฌุง ฺฉ ุงุดู ุจุงุฒ ฺฉูุฏ. ุดูุง ููฺูู ูโุชูุงูุฏ <a href="index.html#comments">ุฏุฑ ุฒุฑ</a> ุงู ูพุณุช ฺฉุงููุช ุจฺฏุฐุงุฑุฏ. ููุจุน ฺฉุฏ ฺฉุงูู ุงู ูพุณุช ุฑุง ูโุชูุงูุฏ ุฏุฑ ุจูุฑููฺ <a href="https://github.com/phil-opp/blog_os/tree/post-08"><code>post-08</code></a> ูพุฏุง ฺฉูุฏ.</p>
<!-- fix for zola anchor checker (target is in template): <a id="comments"> -->

    <details id = "toc-inline">
        <summary><b>ููุฑุณุช ูุทุงูุจ</b></summary>
        <ul>
            <li>
                <a href="index.html#mhfzt-z-hfzh">ูุญุงูุธุช ุงุฒ ุญุงูุธู</a>
                
            </li><li>
                <a href="index.html#qt-hbndy">ูุทุนูโุจูุฏ</a>
                <ul>
                    <li>
                        <a href="index.html#hfzh-mjzy">ุญุงูุธู ูุฌุงุฒ</a>
                    </li><li>
                        <a href="index.html#tkhhtkhh-shdn">ุชฺฉูโุชฺฉู ุดุฏู</a>
                    </li>
                </ul>
            </li><li>
                <a href="index.html#sfhhbndy">ุตูุญูโุจูุฏ</a>
                <ul>
                    <li>
                        <a href="index.html#tkhhtkhh-shdn-mkhfy">ุชฺฉูโุชฺฉู ุดุฏู ูุฎู</a>
                    </li><li>
                        <a href="index.html#jdwl-sfhhh">ุฌุฏูู ุตูุญูโูุง</a>
                    </li><li>
                        <a href="index.html#jdwl-hy-sfhh-chnd-sthy">ุฌุฏูู ูุง ุตูุญู ฺูุฏ ุณุทุญ</a>
                    </li>
                </ul>
            </li><li>
                <a href="index.html#sfhhbndy-dr-x86-64">ุตูุญูโุจูุฏ ุฏุฑ x86_64</a>
                <ul>
                    <li>
                        <a href="index.html#mthly-z-trjmh">ูุซุงู ุงุฒ ุชุฑุฌูู</a>
                    </li><li>
                        <a href="index.html#qlb-jdwl-sfhh">ูุงูุจ ุฌุฏูู ุตูุญู</a>
                    </li><li>
                        <a href="index.html#bfr-trjmh-lookaside">ุจุงูุฑ ุชุฑุฌูู Lookaside</a>
                    </li>
                </ul>
            </li><li>
                <a href="index.html#pydhszy">ูพุงุฏูโุณุงุฒ</a>
                <ul>
                    <li>
                        <a href="index.html#khthy-sfhh">ุฎุทุงูุง ุตูุญู</a>
                    </li><li>
                        <a href="index.html#dstrsy-bh-jdwlhy-sfhh">ุฏุณุชุฑุณ ุจู ุฌุฏููโูุง ุตูุญู</a>
                    </li>
                </ul>
            </li><li>
                <a href="index.html#khlsh">ุฎูุงุตู</a>
                
            </li><li>
                <a href="index.html#b-dy-chyst">ุจุนุฏ ฺุณุชุ</a>
                
            </li>
            <li class="toc-comments-link"><a href="index.html#comments">ูุธุฑุงุช</a></li>
        </ul>
    </details>

<h2 id="mhfzt-z-hfzh"><a class="zola-anchor" href="index.html#mhfzt-z-hfzh" aria-label="Anchor link for: mhfzt-z-hfzh">๐</a>ูุญุงูุธุช ุงุฒ ุญุงูุธู</h2>
<p>ฺฉ ุงุฒ ูุธุงู ุงุตู ฺฉ ุณุณุชูโุนุงูู ุฌุฏุงุณุงุฒ (ุงุฒููู ฺฉุฑุฏู) ุจุฑูุงููโูุง ุงุฒ ฺฉุฏฺฏุฑ ุงุณุช. ุจู ุนููุงู ูุซุงูุ ูุฑูุฑฺฏุฑ ูุจ ุดูุง ูุจุงุฏ ุฏุฑ ฺฉุงุฑ ูุฑุงุดฺฏุฑ ูุชู ุชุฏุงุฎู ุงุฌุงุฏ ฺฉูุฏ. ุจุฑุง ุฏุณุชุงุจ ุจู ุงู ูุฏูุ ุณุณุชูโุนุงููโูุง ุงุฒ ูุงุจูุช ุณุฎุชโุงูุฒุงุฑ ุงุณุชูุงุฏู ฺฉุฑุฏู ุชุง ุงุทููุงู ุญุงุตู ฺฉููุฏ ฺฉู ุญุงูุธู ูุฑุจูุท ุจู ฺฉ ูพุฑูุณูุ ุชูุณุท ูพุฑูุณูโุง ุฏฺฏุฑ ุบุฑ ูุงุจู ุฏุณุชุฑุณ ุงุณุช. ุฑูฺฉุฑุฏูุง ูุฎุชูู ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุจู ุณุฎุชโุงูุฒุงุฑ ู ูพุงุฏูโุณุงุฒ ุณุณุชู ุนุงูู ุจุณุชฺฏ ุฏุงุฑุฏ.</p>
<p>ุจู ุนููุงู ูุซุงูโุ ุจุฑุฎ ุงุฒ ูพุฑุฏุงุฒูุฏูโูุง ARM Cortex-M (ุจุฑุง ุณุณุชูโูุง ุชุนุจู ุดุฏู ุงุณุชูุงุฏู ูโุดููุฏ) ุฏุงุฑุง ฺฉ <a href="https://developer.arm.com/docs/ddi0337/e/memory-protection-unit/about-the-mpu"><em>ูุงุญุฏ ูุญุงูุธุช ุงุฒ ุญุงูุธู</em></a> (Memory Protection Unit: MPU) ูุณุชูุฏุ ฺฉู ุจู ุดูุง ุงู ุงูฺฉุงู ุฑุง ูโุฏูุฏ ฺฉู ุชุนุฏุงุฏ ฺฉู ุงุฒ ูุงุญู ุญุงูุธู (ูุงููุฏ 8) ุฑุง ุจุง ูุฌูุฒูุง ุฏุณุชุฑุณ ูุชูุงูุช ุชุนุฑู ฺฉูุฏ (ุจู ุนููุงู ูุซุงู ุนุฏู ุฏุณุชุฑุณุ ููุท ุฎูุงูุฏูุ ุฎูุงูุฏู-ููุดุชู). ุฏุฑ ูุฑ ุฏุณุชุฑุณ ุจู ุญุงูุธูุ MPU ุงุทููุงู ุญุงุตู ูโฺฉูุฏ ฺฉู ุขุฏุฑุณ ุฏุฑ ูุงุญูโุง ุจุง ูุฌูุฒูุง ุฏุณุชุฑุณ ุตุญุญ ูุฑุงุฑ ุฏุงุฑุฏ ู ุฏุฑ ุบุฑ ุงูโุตูุฑุช ฺฉ ุงุณุชุซูุง ุงุฌุงุฏ ูโฺฉูุฏ. ุจุง ุชุบุฑ ูุงุญู ู ูุฌูุฒูุง ุฏุณุชุฑุณ ุฏุฑ ูุฑ ุชุนูุถ ูพุฑูุณู (ุชุฑุฌูู: process switch)ุ ุณุณุชูโุนุงูู ูโุชูุงูุฏ ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ูุฑ ูพุฑูุณู ููุท ุจู ุญุงูุธู ุฎูุฏ ุฏุณุชุฑุณ ูพุฏุง ูโฺฉูุฏ ู ุจูุงุจุฑุงู ูพุฑูุณูโูุง ุฑุง ุงุฒููู ูโฺฉูุฏ.</p>
<p>ุฏุฑ x86ุ ุณุฎุชโุงูุฒุงุฑ ุงุฒ ุฏู ุฑูุด ูุฎุชูู ุจุฑุง ูุญุงูุธุช ุงุฒ ุญุงูุธู ูพุดุชุจุงู ูโฺฉูุฏ: <a href="https://en.wikipedia.org/wiki/X86_memory_segmentation">ูุทุนูโุจูุฏ</a> ู <a href="https://en.wikipedia.org/wiki/Virtual_memory#Paged_virtual_memory">ุตูุญูโุจูุฏ</a>.</p>
<h2 id="qt-hbndy"><a class="zola-anchor" href="index.html#qt-hbndy" aria-label="Anchor link for: qt-hbndy">๐</a>ูุทุนูโุจูุฏ</h2>
<p>ูุทุนูโุจูุฏ ูุจูุงู ุฏุฑ ุณุงู 1978 ุจุฑุง ุงูุฒุงุด ูุฒุงู ุญุงูุธูโโ ุขุฏุฑุณ ูพุฐุฑ ูุนุฑู ุดุฏู ุจูุฏ. ูุถุนุช ุฏุฑ ุขู ุฒูุงู ุงู ุจูุฏ ฺฉู ูพุฑุฏุงุฒูุฏูโูุง ููุท ุงุฒ ุขุฏุฑุณโูุง 16 ุจุช ุงุณุชูุงุฏู ูโฺฉุฑุฏูุฏ ฺฉู ุจุงุนุซ ฺฉุงูุด ุญุงูุธู ุขุฏุฑุณ ูพุฐุฑ ุจู 64KiB ูโุดุฏ. ุจุฑุง ุฏุณุชุฑุณ ุจุดุชุฑ ุงุฒ ุงู 64KiBุโ ุซุจุงุชโูุง ูุทุนูโ ุงุถุงู ูุนุฑู ุดุฏูุฏ ฺฉู ูุฑ ฺฉุฏุงู ุญุงู ฺฉ offset ูุณุชูุฏ. ูพุฑุฏุงุฒูุฏู ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุงู ุขูุณุช ุฑุง ุจุฑ ุฑู ูุฑ ุฏุณุชุฑุณ ุจู ุญุงูุธู ุงุถุงูู ูโฺฉูุฏุ ุจูุงุจุฑุงู ุญุฏุงฺฉุซุฑ ฑ ูฺฏุงุจุงุช ุญุงูุธู ูุงุจู ุฏุณุชุฑุณ ุงุณุช.</p>
<p>ุจุณุชู ุจู ููุน ุฏุณุชุฑุณ ุจู ุญุงูุธูุ ุซุจุงุช ูุทุนู ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุชูุณุท ูพุฑุฏุงุฒูุฏู ุงูุชุฎุงุจ ูโุดูุฏ: ุจุฑุง ุฏุณุชูุฑุงูุนููโูุง ูุงฺฉุด (ุชุฑุฌูู: fetching)ุ ุงุฒ ฺฉุฏ <code>CS</code> ู ุจุฑุง ุนููุงุชโูุง ูพุดุชู (push/pop) ูพุดุชู ูุทุนู <code>SS</code> ุงุณุชูุงุฏู ูโุดูุฏ. ุณุงุฑ ุฏุณุชูุฑุงูุนููโูุง ุงุฒูุทุนูโ ุฏุงุฏู <code>DS</code> ุง ูุทุนูโ ุงุถุงูู <code>ES</code> ุงุณุชูุงุฏู ูโฺฉููุฏ. ุจุนุฏูุง ุฏู ุซุจุงุช ูุทุนูโ ุงุถุงู <code>FS</code> ู <code>GS</code> ุงุถุงูู ุดุฏูุฏ ฺฉู ูโุชูุงููุฏ ุขุฒุงุฏุงูู ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ฺฏุฑูุฏ.</p>
<p>ุฏุฑ ูุณุฎู ุงูู ูุทุนูโุจูุฏุ ุซุจุงุชโูุง ูุทุนู ูุณุชููุงู ุดุงูู ุขูุณุช ุจูุฏูุฏ ู ูฺ ููุชุฑู ุฏุณุชุฑุณ ุงูุฌุงู ููโุดุฏ. ุจุนุฏูุง ุจุง ูุนุฑู <a href="https://en.wikipedia.org/wiki/X86_memory_segmentation#Protected_mode"><em>ุญุงูุช ูุญุงูุธุช ุดุฏู</em></a> ุงู ููุฑุฏ ุชุบุฑ ฺฉุฑุฏ. ููฺฏุงู ฺฉู ูพุฑุฏุงุฒูุฏู ุฏุฑ ุงู ุญุงูุช ุงุฌุฑุง ูโุดูุฏุ ุชูุตู ฺฉููุฏฺฏุงู ูุทุนู ุดุงูู ฺฉ ููุฑุณุช ุฏุฑ ฺฉ <a href="https://en.wikipedia.org/wiki/Global_Descriptor_Table"><em>ุฌุฏูู ุชูุตูโฺฉููุฏู</em></a> ูุญู ุง ุณุฑุงุณุฑ ูุณุชูุฏ - ฺฉู ุนูุงูู ุจุฑ ุขุฏุฑุณ ุขูุณุช - ุงูุฏุงุฒู ู ูุฌูุฒูุง ุฏุณุชุฑุณ ุฑุง ูุฒ ุฏุฑ ุฎูุฏ ุฏุงุฑุฏ. ุจุง ุจุงุฑฺฏุฐุงุฑ ุฌุฏููโโูุง ุชูุตูโฺฉููุฏู ุณุฑุงุณุฑ/ูุญู ุจุฑุง ูุฑ ูุฑุขูุฏ ฺฉู ุฏุณุชุฑุณ ุญุงูุธู ุฑุง ุจู ูุงุญู ุญุงูุธู ุฎูุฏ ูุฑุขูุฏ ูุญุฏูุฏ ูโฺฉูุฏุ ุณุณุชูโุนุงูู ูโุชูุงูุฏ ูุฑุงูุฏูุง ุฑุง ุงุฒ ฺฉุฏฺฏุฑ ุฌุฏุง ฺฉูุฏ.</p>
<p>ุจุง ุงุตูุงุญ ุขุฏุฑุณโูุง ุญุงูุธู ูุจู ุงุฒ ุฏุณุชุฑุณ ูุงูุนุ ูุทุนูโุจูุฏ ุงุฒ ุชฺฉูฺฉ ุงุณุชูุงุฏู ฺฉุฑุฏู ุงุณุช ฺฉู ุงฺฉููู ุชูุฑุจุงู ุฏุฑ ููู ุฌุง ุงุณุชูุงุฏู ู ุดูุฏ: <em>ุญุงูุธู ูุฌุงุฒโ</em>.</p>
<h3 id="hfzh-mjzy"><a class="zola-anchor" href="index.html#hfzh-mjzy" aria-label="Anchor link for: hfzh-mjzy">๐</a>ุญุงูุธู ูุฌุงุฒ</h3>
<p>ุงุฏู ูพุดุช ุญุงูุธู ูุฌุงุฒ ุงู ุงุณุช ฺฉู ุขุฏุฑุณโูุง ุญุงูุธู ุฑุง ุงุฒ ุฏุณุชฺฏุงู ุฐุฎุฑูโุณุงุฒ ูุฒฺฉ ุฒุฑูุ ุฏูุฑ ฺฉูุฏ. ุจู ุฌุง ุฏุณุชุฑุณ ูุณุชูู ุจู ุฏุณุชฺฏุงู ุฐุฎุฑูโุณุงุฒุ ุงุจุชุฏุง ูุฑุญูู ุชุฑุฌูู ุงูุฌุงู ูโุดูุฏ. ุจุฑุง ูุทุนูโุจูุฏุ ูุฑุญูู ุชุฑุฌููุ ุงูุฒูุฏู ุขุฏุฑุณ ุขูุณุช ูุทุนูโ ูุนุงู ุงุณุช. ุชุตูุฑ ฺฉูุฏ ฺฉ ุจุฑูุงูู ุจู ุขุฏุฑุณ ุญุงูุธู <code>0x1234000</code> ุฏุฑ ูุทุนูโุง ุจุง ุขูุณุช<code> 0x1111000</code> ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏ: ุขุฏุฑุณ ฺฉู ูุงูุนุงู ูุงุจู ุฏุณุชุฑุณ ุงุณุช <code>0x2345000</code> ุงุณุช.</p>
<p>ุจุฑุง ุชูุงุฒ ุจู ุฏู ููุน ุขุฏุฑุณุ ุจู ุขุฏุฑุณโูุง ูุจู ุงุฒ ุชุฑุฌูู <em>ูุฌุงุฒ</em> ู ุจู ุขุฏุฑุณโูุง ุจุนุฏ ุงุฒ ุชุฑุฌูู <em>ูุฒฺฉ</em> ฺฏูุชู ูโุดูุฏ. ฺฉ ุชูุงูุช ููู ุจู ุงู ุฏู ููุน ุขุฏุฑุณ ุงู ุงุณุช ฺฉู ุขุฏุฑุณโูุง ูุฒฺฉ ููุญุตุฑุจูโูุฑุฏ ูุณุชูุฏ ู ููุดู ุจู ููุงู ูฺฉุงู ุญุงูุธู ูุชูุงุฒ ุงุดุงุฑู ุฏุงุฑูุฏ. ุงุฒ ุทุฑู ุฏฺฏุฑ ุขุฏุฑุณโูุง ูุฌุงุฒ ุจู ุชุงุจุน ุชุฑุฌูู ุจุณุชฺฏ ุฏุงุฑุฏ. ฺฉุงููุงู ููฺฉู ุงุณุช ฺฉู ุฏู ุขุฏุฑุณ ูุฌุงุฒ ูุฎุชูู ุจู ููุงู ุขุฏุฑุณ ูุฒฺฉ ุงุดุงุฑู ุฏุงุดุชู ุจุงุดูุฏ. ููฺููุ ุขุฏุฑุณโูุง ูุฌุงุฒ ฺฉุณุงู ูโุชูุงููุฏ ููฺฏุงู ุงุณุชูุงุฏู ุงุฒ ุชูุงุจุน ุชุฑุฌูู ูุฎุชููุ ุจู ุขุฏุฑุณโูุง ูุฒฺฉ ูุฎุชูู ูุฑุงุฌุนู ฺฉููุฏ.</p>
<p>ุจุฑุง ูุซุงู ููฺฏุงู ฺฉู ูโุฎูุงูุฏ ฺฉ ุจุฑูุงูู ุฑุง ุฏู ุจุงุฑ ุจุตูุฑุช ููุงุฒ ุงุฌุฑุง ฺฉูุฏุ ุงู ุฎุงุตุช ููุฏ ุงุณุช.</p>
<p><img src="segmentation-same-program-twice.svg" alt="Two virtual address spaces with address 0โ150, one translated to 100โ250, the other to 300โ450" /></p>
<p>ุฏุฑ ุงูุฌุง ููุงู ุจุฑูุงูู ุฏู ุจุงุฑ ุงุฌุฑุง ูโุดูุฏ ุ ุงูุง ุจุง ุชุงุจุนโูุง ุชุฑุฌูู ูุฎุชูู. ููููู ุงูู ุฏุงุฑุง ุขูุณุช ูุทุนู 100 ุงุณุชุ ุจูุงุจุฑุงู ุขุฏุฑุณโูุง ูุฌุงุฒ 0โ150 ุจู ุขุฏุฑุณ ูุง ูุฒฺฉ 100โ250 ุชุฑุฌูู ูโุดููุฏ. ููููู ุฏูู ุฏุงุฑุง ุขูุณุช ูุทุนู 300 ุงุณุชุ ฺฉู ุขุฏุฑุณโูุง ูุฌุงุฒ 0โ150 ุฑุง ุจู ุขุฏุฑุณโูุง ูุฒฺฉ 300โ450 ุชุฑุฌูู ูโฺฉูุฏ. ุงู ุจู ูุฑ ุฏู ุจุฑูุงูู ุงู ุงูฺฉุงู ุฑุง ูโุฏูุฏ ุชุง ุจุฏูู ุชุฏุงุฎู ุจุง ฺฉุฏฺฏุฑ ฺฉุฏ ฺฉุณุงู ุฑุง ุงุฌุฑุง ฺฉููุฏ ู ุงุฒ ุขุฏุฑุณโูุง ูุฌุงุฒ ฺฉุณุงู ุงุณุชูุงุฏู ฺฉููุฏ.</p>
<p>ูุฒุช ุฏฺฏุฑ ุงู ุงุณุช ฺฉู ุจุฑูุงููโูุง ูโุชูุงููุฏ ุฏุฑ ูฺฉุงูโูุง ุญุงูุธู ูุฒฺฉ ุฏูุฎูุงู ูุฑุงุฑ ุจฺฏุฑูุฏุ ุญุช ุงฺฏุฑ ุงุฒ ุขุฏุฑุณโูุง ูุฌุงุฒ ฺฉุงููุงู ูุชูุงูุช ุงุณุชูุงุฏู ฺฉููุฏ. ุจูุงุจุฑุงูุ ุณุณุชูโุนุงูู ูโุชูุงูุฏ ุงุฒ ููุฏุงุฑ ฺฉุงูู ุญุงูุธู ููุฌูุฏ ุจุฏูู ูุงุฒ ุจู ฺฉุงููพุงู ูุฌุฏุฏ ุจุฑูุงููโูุง ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<h3 id="tkhhtkhh-shdn"><a class="zola-anchor" href="index.html#tkhhtkhh-shdn" aria-label="Anchor link for: tkhhtkhh-shdn">๐</a>ุชฺฉูโุชฺฉู ุดุฏู</h3>
<p>ุชูุงุฒ ุจู ุขุฏุฑุณโูุง ูุฌุงุฒ ู ูุฒฺฉ ูุทุนูโุจูุฏ ุฑุง ูุงูุนุง ูุฏุฑุชููุฏ ูโฺฉูุฏ. ุจุง ุงู ุญุงูุ ูุดฺฉู ุชฺฉูโุชฺฉู ุดุฏู (ุชุฑุฌูู: fragmentation) ุฏุงุฑุฏ. ุจู ุนููุงู ูุซุงูุ ุชุตูุฑ ฺฉูุฏ ฺฉู ูโุฎูุงูู ูุณุฎู ุณูู ุจุฑูุงููโุง ุฑุง ฺฉู ุฏุฑ ุจุงูุง ุฏุฏู ุงุฌุฑุง ฺฉูู:</p>
<p><img src="segmentation-fragmentation.svg" alt="Three virtual address spaces, but there is not enough continuous space for the third" /></p>
<p>ูฺ ุฑุงู ุจุฑุง ูฺฏุงุดุช ฺฉุฑุฏู ููููู ุณูู ุจุฑูุงูู ุฑู ุญุงูุธู ูุฌุงุฒ ุจุฏูู ูููพูุดุงู ูุฌูุฏ ูุฏุงุฑุฏุ ุญุช ุงฺฏุฑ ุญุงูุธู ุขุฒุงุฏ ุจุด ุงุฒ ุงูุฏุงุฒู ฺฉุงู ุฏุฑ ุฏุณุชุฑุณ ุจุงุดุฏ. ูุดฺฉู ุงู ุงุณุช ฺฉู ูุง ุจู ุญุงูุธู <em>ฺฉูพุงุฑฺู</em> ูุงุฒ ุฏุงุฑู ู ููโุชูุงูู ุงุฒ ุชฺฉูโูุง ฺฉูฺฺฉ ุงุณุชูุงุฏู ฺฉูู.</p>
<p>ฺฉ ุงุฒ ุฑุงูโูุง ููุงุจูู ุจุง ุงู ุชฺฉูโุชฺฉู ุดุฏูุ ูููู/ูฺฉุซ (pause) ุฏุฑ ุงุฌุฑุง ุงุณุชุ ุงูุชูุงู ูุณูุชโูุง ุงุณุชูุงุฏู ุดุฏู ุญุงูุธู ุจู ุณูุช ฺฉุฏฺฏุฑ ุชุง ุงู ูุณูุชโูุง ุจู ูู ุจฺุณุจูุฏ ู ูุถุง ุชฺฉูโุชฺฉู ุดุฏู ุจู ุขูโูุง ูพุฑ ุดูุฏุ ุณูพุณ ุจู ุฑูุฒุฑุณุงู ุชุฑุฌูู ู ุงุฌุฑุง ูุฌุฏุฏ ุขู ุงุณุช:</p>
<p><img src="segmentation-fragmentation-compacted.svg" alt="Three virtual address spaces after defragmentation" /></p>
<p>ุงฺฉููู ูุถุง ฺฉูพุงุฑฺู ฺฉุงู ุจุฑุง ุดุฑูุน ููููู ุณูู ุจุฑูุงูู ูุง ูุฌูุฏ ุฏุงุฑุฏ.</p>
<p>ููุทู ุถุนู ุงู ูุฑุขูุฏ ฺฉูพุงุฑฺูโุณุงุฒ (ุชุฑุฌูู: defragmentation) ูุทุนุงุช ุงู ุงุณุช ฺฉู ูุงุฒ ุจู ฺฉูพ ฺฉุฑุฏู ููุฏุงุฑ ุฒุงุฏ ุญุงูุธู ุงุณุช ฺฉู ุจุงุนุซ ฺฉุงูุด ฺฉุงุฑุง ูโุดูุฏ. ููฺูู ูุงุฒู ุงุณุช ูุจู ุงุฒ ุงูฺฉู ุญุงูุธู ุจุด ุงุฒ ุญุฏ ุชฺฉูโุชฺฉู ุดูุฏุ ุงู ฺฉุงุฑ ุจู ุทูุฑ ููุธู ุงูุฌุงู ุดูุฏ. ุงู ุจุงุนุซ ูโุดูุฏ ฺฉุงุฑุง ุบุฑูุงุจู ูพุดโุจู ุจุงุดุฏุ ุฒุฑุง ุจุฑูุงููโูุง ุจู ุทูุฑ ุชุตุงุฏู ุฏฺุงุฑ ูููู ูโุดููุฏ ู ููฺฉู ุงุณุช ูุงูพุงุณุฎฺฏู (ุชุฑุฌูู: unresponsive) ุดููุฏ.</p>
<p>ูุดฺฉู ุชฺฉูโุชฺฉู ุดุฏู ฺฉ ุงุฒ ุฏูุงู ุงุณุช ฺฉู ูุทุนูโุจูุฏ ุฏฺฏุฑ ุชูุณุท ุงฺฉุซุฑ ุณุณุชูโูุง ุงุณุชูุงุฏู ููโุดูุฏ. ุฏุฑ ูุงูุนโุ ูุทุนูโุจูุฏ ุญุช ุฏุฑ ุญุงูุช 64 ุจุช ุฑู x86 ุฏฺฏุฑ ูพุดุชุจุงู ููโุดูุฏ. ุฏุฑ ุนูุถ ุงุฒ <em>ุตูุญูโุจูุฏ</em> ุงุณุชูุงุฏู ูโุดูุฏุ ฺฉู ุจู ุทูุฑ ฺฉุงูู ุงุฒ ูุดฺฉู ุชฺฉูโุชฺฉู ุดุฏู ุฌููฺฏุฑ ูโฺฉูุฏ.</p>
<h2 id="sfhhbndy"><a class="zola-anchor" href="index.html#sfhhbndy" aria-label="Anchor link for: sfhhbndy">๐</a>ุตูุญูโุจูุฏ</h2>
<p>ุงุฏู ุงู ุงุณุช ฺฉู ูุฑ ุฏู ูุถุง ุญุงูุธู ูุฌุงุฒ ู ูุฒฺฉ ุฑุง ุจู ุจููฺฉโูุง ฺฉูฺฺฉ ู ุจุง ุงูุฏุงุฒู ุซุงุจุช ุชูุณู ฺฉูุฏ. ุจููฺฉโูุง ูุถุง ุญุงูุธู ูุฌุงุฒ <em>ุตูุญูโูุง</em> ู ุจููฺฉโูุง ูุถุง ุขุฏุฑุณ ูุฒฺฉ <em>ูุงุจโูุง</em> ูุงูุฏู ูโุดููุฏ. ูุฑ ุตูุญู ุฑุง ูโุชูุงู ุจู ุตูุฑุช ุฌุฏุงฺฏุงูู ุจู ฺฉ ูุงุจ ูฺฏุงุดุช ฺฉุฑุฏโุ ฺฉู ุจุงุนุซ ูโุดูุฏ ูุงุญู ุญุงูุธู ุจุฒุฑฺฏุชุฑ ุฏุฑ ูุงุจโูุง ูุฒฺฉ ุบุฑ ฺฉูพุงุฑฺู ุชูุณู ุดููุฏ.</p>
<p>ุงฺฏุฑ ูุซุงูู ูุถุง ุญุงูุธู ุชฺฉูโุชฺฉู ุดุฏู ุฑุง ุฎูุงุตู ฺฉููุ ูุฒุช ุงู ุงูุฑ ูุงุจู ูุดุงูุฏู ูโุดูุฏุ ุงูุง ุงู ุจุงุฑ ุจู ุฌุง ูุทุนูโุจูุฏ ุงุฒ ุตูุญูโุจูุฏ ุงุณุชูุงุฏู ูโฺฉูู:</p>
<p><img src="paging-fragmentation.svg" alt="With paging the third program instance can be split across many smaller physical areas" /></p>
<p>ุฏุฑ ุงู ูุซุงู ฺฉ ุตูุญู ุจุง ุงูุฏุงุฒู 50 ุจุงุช ุฏุงุฑูุ ุจู ุงู ูุนู ฺฉู ูุฑ ฺฉ ุงุฒ ูุงุญู ุญุงูุธู ูุง ุฏุฑ ุณู ุตูุญู ุชูุณู ุดุฏู ุงุณุช. ูุฑ ุตูุญู ุจู ุตูุฑุช ุฌุฏุงฺฏุงูู ุจู ฺฉ ูุงุจ ูฺฏุงุดุช ูโุดูุฏุ ุจูุงุจุฑุงู ูโุชูุงู ฺฉ ููุทูู ุญุงูุธู ูุฌุงุฒ ฺฉูพุงุฑฺู ุฑุง ุจู ูุงุจโูุง ูุฒฺฉ ุบุฑ ฺฉูพุงุฑฺู ูฺฏุงุดุช ฺฉุฑุฏ. ฺฉู ุจู ูุง ุงู ุงูฺฉุงู ุฑุง ูโุฏูุฏ ุชุง ููููู ุณูู ุจุฑูุงูู ุฑุง ุจุฏูู ุงูุฌุงู ูุฑฺฏููู ฺฉูพุงุฑฺูโุณุงุฒ ุดุฑูุน ฺฉูู.</p>
<h3 id="tkhhtkhh-shdn-mkhfy"><a class="zola-anchor" href="index.html#tkhhtkhh-shdn-mkhfy" aria-label="Anchor link for: tkhhtkhh-shdn-mkhfy">๐</a>ุชฺฉูโุชฺฉู ุดุฏู ูุฎู</h3>
<p>ุฏุฑ ููุงุณู ุจุง ูุทุนูโุจูุฏโุ ุตูุญูโุจูุฏ ุจู ุฌุง ฺูุฏ ููุทูู ุจุฒุฑฺฏ ู ูุชุบุฑุ ุงุฒ ุชุนุฏุงุฏ ุฒุงุฏ ูุงุญู ุญุงูุธู ฺฉูฺฺฉ ู ุซุงุจุช ุงุณุชูุงุฏู ูโฺฉูุฏ. ุงุฒ ุขูโุฌุง ฺฉู ูุฑ ูุงุจ ุฏุงุฑุง ุงูุฏุงุฒู ฺฉุณุงู ุงุณุชุ ูฺ ูุงุจ ูุฌูุฏ ูุฏุงุฑุฏ ฺฉู ุงุฒ ุณุงุฒ ุตูุญูโูุง ููุฌูุฏ ฺฉูฺฺฉุชุฑ ุจุงุดุฏุ ูพุณ ุชฺฉูโุชฺฉู ุดุฏู ุฑุฎ ููโุฏูุฏ.</p>
<p>ุง <em>ุจู ูุธุฑ</em> ูโุฑุณุฏ ฺฉู ูฺ ุชฺฉูโุชฺฉูโ ุดุฏู ุฑุฎ ููโุฏูุฏ. ูููุฒ ฺฉ ููุน ุชฺฉูโุชฺฉูโ ุดุฏู ูุฎู ูุฌูุฏ ุฏุงุฑุฏุ ุจู ุงุตุทูุงุญ <em>ุชฺฉูโุชฺฉู ุดุฏู ุฏุงุฎู</em>. ุชฺฉูโุชฺฉู ุดุฏู ุฏุงุฎู ุงุชูุงู ูโุงูุชุฏ ุฒุฑุง ููู ูุงุญู ุญุงูุธู ุฏููุงู ูุถุฑุจ ุงุฒ ุงูุฏุงุฒู ุตูุญู ูุณุชูุฏ. ุจุฑูุงููโุง ุจุง ุงูุฏุงุฒู 101 ุฑุง ุฏุฑ ูุซุงู ุจุงูุง ุชุตูุฑ ฺฉูุฏ: ูููุฒ ุจู ุณู ุตูุญู ุจุง ุงูุฏุงุฒู 50 ูุงุฒ ุฏุงุฑุฏุ ุจูุงุจุฑุงู 49 ุจุงุช ุจุด ุงุฒ ุญุฏ ููุฑุฏ ูุงุฒ ุงุดุบุงู ูโฺฉูุฏ. ุจุฑุง ุชูุงุฒ ุจู ุฏู ููุน ุชฺฉูโุชฺฉูโ ุดุฏูุ ููุน ุชฺฉูโุชฺฉูโ ุดุฏู ฺฉู ููฺฏุงู ุงุณุชูุงุฏู ุงุฒ ูุทุนูโุจูุฏ ุงุชูุงู ูโุงูุชุฏุ <em>ูุทุนูโุจูุฏ ุฎุงุฑุฌ</em> ูุงูุฏู ูโุดูุฏ.</p>
<p>ุชฺฉูโุชฺฉู ุดุฏู ุฏุงุฎู ุชุฃุณู ุขูุฑ ุงุณุชุ ุงูุง ุงุบูุจ ุจูุชุฑ ุงุฒ ุชฺฉูโุชฺฉู ุดุฏู ุฎุงุฑุฌ ุงุณุช ฺฉู ุจุง ูุทุนูโุจูุฏ ุฑุฎ ูโุฏูุฏ. ุงู ูููุฒ ุญุงูุธู ุฑุง ูุฏุฑ ูโุฏูุฏุ ุงูุง ุจู ฺฉูพุงุฑฺูโุณุงุฒ ูุงุฒ ูุฏุงุฑุฏ ู ูุฒุงู ุชฺฉูโุชฺฉู ุดุฏู ุฑุง ูุงุจู ูพุดโุจู ูโฺฉูุฏ (ุจู ุทูุฑ ูุชูุณุท ูู ุตูุญู ุฏุฑ ูุฑ ููุทูู ุญุงูุธู).</p>
<h3 id="jdwl-sfhhh"><a class="zola-anchor" href="index.html#jdwl-sfhhh" aria-label="Anchor link for: jdwl-sfhhh">๐</a>ุฌุฏูู ุตูุญูโูุง</h3>
<p>ุฏุฏู ฺฉู ูุฑ ฺฉ ุงุฒ ููููโูุง ุตูุญู ุจุงูููู ุจู ุตูุฑุช ุฌุฏุงฺฏุงูู ุฏุฑ ฺฉ ูุงุจ ูฺฏุงุดุช ูโุดููุฏ. ุงู ุงุทูุงุนุงุช ูฺฏุงุดุช ุจุงุฏ ุฏุฑ ุฌุง ุฐุฎุฑู ุดูุฏ. ูุทุนูโุจูุฏ ุจุฑุง ูุฑ ููุทูู ุญุงูุธู ูุนุงู ุงุฒ ฺฉ ุซุจุงุช ุงูุชุฎุงุจฺฏุฑู ูุทุนูโ ุฌุฏุงฺฏุงูู ุงุณุชูุงุฏู ูโฺฉูุฏุ ฺฉู ุจุฑุง ุตูุญูโุจูุฏ ุงูฺฉุงู ูพุฐุฑ ูุณุช ุฒุฑุง ุตูุญุงุช ุจุดุชุฑ ูุณุจุช ุจู ุซุจุงุชโูุง ูุฌูุฏ ุฏุงุฑุฏ. ุฏุฑ ุนูุถ ุตูุญูโุจูุฏ ุงุฒ ฺฉ ุณุงุฎุชุงุฑ ุฌุฏูู ุจู ูุงู <em>page table</em> ุจุฑุง ุฐุฎุฑู ุงุทูุงุนุงุช ูฺฏุงุดุช ุงุณุชูุงุฏู ู ฺฉูุฏ.</p>
<p>ุจุฑุง ูุซุงู ุจุงูุงุ ุฌุฏููโูุง ุตูุญู ุจู ุตูุฑุช ุฒุฑ ุงุณุช:</p>
<p><img src="paging-page-tables.svg" alt="Three page tables, one for each program instance. For instance 1 the mapping is 0-&gt;100, 50-&gt;150, 100-&gt;200. For instance 2 it is 0-&gt;300, 50-&gt;350, 100-&gt;400. For instance 3 it is 0-&gt;250, 50-&gt;450, 100-&gt;500." /></p>
<p>ูโุจูู ฺฉู ูุฑ ูููููโ ุจุฑูุงูู ุฌุฏูู ุตูุญู ุฎุงุต ุฎูุฏ ุฑุง ุฏุงุฑุฏ. ฺฉ ุงุดุงุฑูโฺฏุฑ ุจู ุฌุฏูู ฺฉู ุฏุฑ ุญุงู ุญุงุถุฑ ูุนุงู ุงุณุชุ ุฏุฑ ฺฉ ุฑุฌุณุชุฑ ูุฎุตูุต CPU ุฐุฎุฑู ูโุดูุฏ. ุฏุฑ <code>x86</code>ุ ุงู ุซุจุงุช <code>CR3</code> ุงุณุช. ูุธูู ุณุณุชูโุนุงูู ุงู ุงุณุช ฺฉู ูุจู ุงุฒ ุงุฌุฑุง ูุฑ ูููููโ ุจุฑูุงููุ ุงู ุฑุฌุณุชุฑ ุฑุง ุจุง ุงุดุงุฑูโฺฏุฑ ุจู ุฌุฏูู ุตูุญูโ ุตุญุญ ุจุงุฑฺฏุฐุงุฑ ฺฉูุฏ.</p>
<p>ุฏุฑ ูุฑ ุฏุณุชุฑุณ ุจู ุญุงูุธูุ CPU ุงุดุงุฑูโฺฏุฑ ุฌุฏูู ุฑุง ุงุฒ ุซุจุงุช ูโุฎูุงูุฏ ู ูุงุจ ูฺฏุงุดุชู ุดุฏู ุฑุง ุจุฑุง ุตูุญู ูุงุจู ุฏุณุชุฑุณ ุฏุฑ ุฌุฏูู ุฌุณุชุฌู ูโฺฉูุฏ. ุงู ฺฉุงุฑ ฺฉุงููุงู ุจุตูุฑุช ุณุฎุชโุงูุฒุงุฑ ู ฺฉุงููุงู ุดูุงู ุจุฑุง ุจุฑูุงููโ ุฏุฑ ุญุงู ุงุฌุฑุงุ ุงูุฌุงู ูโุดูุฏ. ุจุฑุง ุณุฑุนุช ุจุฎุดุฏู ุจู ุฑููุฏ ุชุฑุฌููุ ุจุณุงุฑ ุงุฒ ูุนูุงุฑโูุง CPU ุญุงูุธู ูพููุงู (ุชุฑุฌูู: cache) ูฺูโุง ุฏุงุฑูุฏ ฺฉู ูุชุงุฌ ุขุฎุฑู ุชุฑุฌููโูุง ุฑุง ุจู ุฎุงุทุฑ ูโุณูพุงุฑุฏ.</p>
<p>ุจุณุชู ุจู ูุนูุงุฑุ ูุฑูุฏโูุง ุฌุฏูู ุตูุญู ููฺูู ูโุชูุงููุฏ ูฺฺฏโูุง ูุงููุฏ ูุฌูุฒูุง ุฏุณุชุฑุณ ุฑุง ุฏุฑ ููุฏ ูพุฑฺูโูุง ุฐุฎุฑู ฺฉููุฏ. ุฏุฑ ูุซุงู ุจุงูุงุ ูพุฑฺู โr/wโ ุตูุญู ุฑุงุ ุฎูุงูุฏู ู ูุงุจู ููุดุชู ูโฺฉูุฏ.</p>
<h3 id="jdwl-hy-sfhh-chnd-sthy"><a class="zola-anchor" href="index.html#jdwl-hy-sfhh-chnd-sthy" aria-label="Anchor link for: jdwl-hy-sfhh-chnd-sthy">๐</a>ุฌุฏูู ูุง ุตูุญู ฺูุฏ ุณุทุญ</h3>
<p>ุฌุฏููโูุง ุตูุญู ุณุงุฏู ฺฉู ุงุฎุฑุงู ุฏุฏู ุฏุฑ ูุถุงูุง ุขุฏุฑุณ ุจุฒุฑฺฏุชุฑ ูุดฺฉู ุฏุงุฑูุฏ: ุขูโูุง ุญุงูุธู ุฑุง ูุฏุฑ ูโุฏููุฏ. ุจู ุนููุงู ูุซุงูุ ุจุฑูุงููโุง ุฑุง ุชุตูุฑ ฺฉูุฏ ฺฉู ุงุฒ ฺูุงุฑ ุตูุญู ูุฌุงุฒ <code>0</code>ุ <code>000_000_1</code>ุ <code>050_000_1</code> ู <code>100_000_1</code> ุงุณุชูุงุฏู ฺฉูุฏ (ูุง ุงุฒ <code>_</code> ุจู ุนููุงู ุฌุฏุงฺฉููุฏู ูุฒุงุฑุงู ุงุณุชูุงุฏู ูโฺฉูู):</p>
<p><img src="single-level-page-table.svg" alt="Page 0 mapped to frame 0 and pages 1_000_000โ1_000_150 mapped to frames 100โ250" /></p>
<p>ุงู ููุท ุจู 4 ูุงุจ ูุฒฺฉ ูุงุฒ ุฏุงุฑุฏุ ุงูุง ุฌุฏูู ุตูุญู ุจุด ุงุฒ ฺฉ ูููู ูุฑูุฏ ุฏุงุฑุฏ. ูุง ููโุชูุงูู ูุฑูุฏโูุง ุฎุงู ุฑุง ุญุฐู ฺฉูู ุฒุฑุง ุฏุฑ ุงู ุตูุฑุช CPU ุฏฺฏุฑ ููโุชูุงูุฏ ูุณุชููุงู ุจู ูุฑูุฏ ุตุญุญ ุฏุฑ ูุฑุขูุฏ ุชุฑุฌูู ูพุฑุด ฺฉูุฏ (ุจู ุนููุงู ูุซุงูุ ุฏฺฏุฑ ุชุถูู ููโุดูุฏ ฺฉู ุตูุญู ฺูุงุฑู ุงุฒ ูุฑูุฏ ฺูุงุฑู ุงุณุชูุงุฏู ฺฉูุฏ).</p>
<p>ุจุฑุง ฺฉุงูุด ุญุงูุธู ูุฏุฑ ุฑูุชูุ ูโุชูุงูู ุงุฒ ฺฉ <strong>ุฌุฏูู ุตูุญู ุฏู ุณุทุญ</strong> ุงุณุชูุงุฏู ฺฉูู. ุงุฏู ุงู ุงุณุช ฺฉู ูุง ุงุฒ ุฌุฏููโูุง ุตูุญู ูุฎุชูู ุจุฑุง ูุงุญู ุขุฏุฑุณ ูุฎุชูู ุงุณุชูุงุฏู ูโฺฉูู. ฺฉ ุฌุฏูู ุงุถุงู ุจุง ุนููุงู ุฌุฏูู ุตูุญู <em>level 2</em> ุดุงูู ูฺฏุงุดุช ุจู ูุงุญู ุขุฏุฑุณ ู ุฌุฏููโูุง ุตูุญู (ุณุทุญ 1) ุงุณุช.</p>
<p>ุงู ุจูุชุฑ ุงุณุช ุจุง ฺฉ ูุซุงู ุชูุถุญ ุฏุงุฏู ุดูุฏ. ุจุงุฏ ุชุนุฑู ฺฉูู ฺฉู ูุฑ ุฌุฏูู ุตูุญู 1 ุณุทุญ ูุฑุจูุท ุจู ููุทููโุง ุจุง ุงูุฏุงุฒู <code>000_10</code> ุงุณุช. ุณูพุณ ุฌุฏููโูุง ุฒุฑ ุจุฑุง ูุซุงู ูฺฏุงุดุช ุจุงูุง ูุฌูุฏ ุฏุงุฑุฏ:</p>
<p><img src="multilevel-page-table.svg" alt="Page 0 points to entry 0 of the level 2 page table, which points to the level 1 page table T1. The first entry of T1 points to frame 0, the other entries are empty. Pages 1_000_000โ1_000_150 point to the 100th entry of the level 2 page table, which points to a different level 1 page table T2. The first three entries of T2 point to frames 100โ250, the other entries are empty." /></p>
<p>ุตูุญู 0 ุฏุฑ ุงููู ุจุงุช ููุทูู <code>000_10</code> ูุฑุงุฑ ูโฺฏุฑุฏุ ุจูุงุจุฑุงู ุงุฒ ุงููู ูุฑูุฏ ุฌุฏูู ุตูุญู ุณุทุญ 2 ุงุณุชูุงุฏู ูโฺฉูุฏ. ุงู ูุฑูุฏ ุจู ุฌุฏูู ุตูุญู 1 ุณุทุญ T1 ุงุดุงุฑู ุฏุงุฑุฏ ฺฉู ูุดุฎุต ู ฺฉูุฏ ุตูุญู <code>0</code> ุจู ูุงุจ <code>0</code> ุงุดุงุฑู ูโฺฉูุฏ.</p>
<p>ุตูุญุงุช <code>000_000_1</code> ุ<code>050_000_1</code> ู <code>100_000_1</code> ููฺฏ ุฏุฑ ููุทูู ุตุฏู <code>000_10</code> ุจุงุช ูุฑุงุฑ ูโฺฏุฑูุฏุ ุจูุงุจุฑุงู ุขูโูุง ุงุฒ ูุฑูุฏ ุตุฏู ุฏุฑ ุฌุฏูู ุตูุญู ุณุทุญ 2 ุงุณุชูุงุฏู ูโฺฉููุฏ. ุงู ูุฑูุฏ ุฏุฑ ุฌุฏูู ุณุทุญ 1 ุตูุญู T2 ูุชูุงูุช ุงุณุช ฺฉู ุณู ุตูุญู ุฑุง ุจุง ูุงุจโูุง <code>100</code>ุ <code>150</code> ู <code>200</code> ูฺฏุงุดุช ูโฺฉูุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุขุฏุฑุณ ุตูุญู ุฏุฑ ุฌุฏููโโูุง ุณุทุญ 1 ุดุงูู ุขูุณุช ููุทูู ูุณุชุ ุจู ุนููุงู ูุซุงูุ ูุฑูุฏ ุตูุญู <code>050_000_1</code> ููุท <code>50</code> ุงุณุช.</p>
<p>ูุง ูููุฒ 100 ูุฑูุฏ ุฎุงู ุฏุฑ ุฌุฏูู ุณุทุญ 2 ุฏุงุฑูุ ุงูุง ุจุณุงุฑ ฺฉูุชุฑ ุงุฒ ฺฉ ูููู ูุฑูุฏ ุฎุงูู ูุจู ุงุณุช. ุฏูู ุงู ูพุณโุงูุฏุงุฒ ุงู ุงุณุช ฺฉู ูุงุฒ ุจู ุงุฌุงุฏ ุฌุฏููโูุง ุตูุญู ุณุทุญ 1 ุจุฑุง ูุงุญู ุญุงูุธู ูฺฏุงุดุช ูุดุฏู ุจู <code>000_10</code> ู <code>000_000_1</code> ูุฏุงุฑู.</p>
<p>ูุงุนุฏู ุฌุฏููโูุง ุตูุญู ุฏู ุณุทุญ ุฑุง ูโุชูุงู ุจู ุณูุ ฺูุงุฑ ุง ุจุดุชุฑ ุณุทุญ ฺฏุณุชุฑุด ุฏุงุฏ. ุณูพุณ ุซุจุงุช ุฌุฏูู ุตูุญู ุจู ุฌุฏูู ุจุงูุงุชุฑู ุณุทุญ ุงุดุงุฑู ูโฺฉูุฏุ ฺฉู ุจู ุฌุฏูู ุณุทุญ ูพุงู ุจุนุฏ ุงุดุงุฑู ูโฺฉูุฏุ ฺฉู ุจู ุณุทุญ ูพุงู ุจุนุฏ ุงุดุงุฑู ูโฺฉูุฏ ู ุงู ุฑูุงู ุงุฏุงูู ูพุฏุง ูโฺฉูุฏ. ุฌุฏูู ุตูุญู ุณุทุญ 1 ุณูพุณ ุจู ูุงุจ ูฺฏุงุดุชู ุดุฏู ุงุดุงุฑู ูโฺฉูุฏ. ุงู ูุงุนุฏู ุฑุง ุจู ุตูุฑุช ฺฉูุโ ุฌุฏูู ุตูุญุงุช <em>ฺูุฏ ุณุทุญ</em> (ุชุฑุฌูู: multilevel) ุง <em>ุณูุณูู ูุฑุงุชุจโ</em> (ุชุฑุฌูู: hierarchical) ูโูุงููุฏ.</p>
<p>ุงฺฉููู ฺฉู ุงุฒ ูุญูู ฺฉุงุฑ ุฌุฏููโูุง ุตูุญูโุจูุฏ ู ุตูุญูโูุง ฺูุฏ ุณุทุญ ูุทูุน ุดุฏูุ ูโุชูุงูู ุจู ูุญูู ูพุงุฏูโุณุงุฒ ุฏุฑ ูุนูุงุฑ x86_64 ุชูุฌู ฺฉูู (ุฏุฑ ุงุฏุงูู ูุฑุถ ูโฺฉูู CPU ุฏุฑ ุญุงูุช 64 ุจุช ฺฉุงุฑ ูโฺฉูุฏ).</p>
<h2 id="sfhhbndy-dr-x86-64"><a class="zola-anchor" href="index.html#sfhhbndy-dr-x86-64" aria-label="Anchor link for: sfhhbndy-dr-x86-64">๐</a>ุตูุญูโุจูุฏ ุฏุฑ x86_64</h2>
<p>ูุนูุงุฑ x86_64 ุงุฒ ุฌุฏูู ุตูุญู 4 ุณุทุญ ู ุงูุฏุงุฒู ุตูุญู 4KiB ุงุณุชูุงุฏู ูโฺฉูุฏ. ูุฑ ุฌุฏูู ุตูุญูุ ูุณุชูู ุงุฒ ุณุทุญุ ุฏุงุฑุง ุงูุฏุงุฒู ุซุงุจุช 512 ูุฑูุฏ ุงุณุช. ุงูุฏุงุฒู ูุฑ ูุฑูุฏ 8 ุจุงุช ุงุณุชุ ูพุณ ุจุฒุฑฺฏ ูุฑ ุฌุฏูู 8B * 512 = 4KiB ุงุณุช ู ุจูุงุจุฑุงู ุฏููุงู ุฏุฑ ฺฉ ุตูุญู ูุฑุงุฑ ูโฺฏุฑุฏ.</p>
<p>ุงูุฏุณ ุฌุฏูู ุตูุญู ุจุฑุง ุณุทุญ ูุณุชููุงู ุงุฒ ุขุฏุฑุณ ูุฌุงุฒ ูุดุชู ูโุดูุฏ:</p>
<p><img src="x86_64-table-indices-from-address.svg" alt="Bits 0โ12 are the page offset, bits 12โ21 the level 1 index, bits 21โ30 the level 2 index, bits 30โ39 the level 3 index, and bits 39โ48 the level 4 index" /></p>
<p>ูโุจูู ฺฉู ูุฑ ุงูุฏุณ ุฌุฏูู ุงุฒ 9 ุจุช ุชุดฺฉู ุดุฏู ุงุณุชุ ฺฉู ููุทู ุงุณุช ุฒุฑุง ูุฑ ุฌุฏูู ุฏุงุฑุง 512 = 9^2 ูุฑูุฏ ุงุณุช. ฺฉูุชุฑู 12 ุจุช ุฏุฑ ุตูุญู 4KiB ุขูุณุช ูุณุชูุฏ (2^12 ุจุงุช = 4 ฺฉููุจุงุช). ุจุช ูุง 48 ุชุง 64 ฺฉูุงุฑ ฺฏุฐุงุดุชู ูโุดููุฏุ ุจู ุงู ูุนู ฺฉู x86_64 ุฏุฑ ูุงูุน 64 ุจุช ูุณุช ุฒุฑุง ููุท ุงุฒ ุขุฏุฑุณ ูุง 48 ุจุช ูพุดุชุจุงู ูโฺฉูุฏ.</p>
<p>ุญุช ุงฺฏุฑ ุจุชโูุง 48 ุชุง 64 ฺฉูุงุฑ ฺฏุฐุงุดุชูโุดููุฏุ ููโุชูุงู ุขูโูุง ุฑุง ุฑู ููุงุฏุฑ ุฏูุฎูุงู ุชูุธู ฺฉุฑุฏ. ุฏุฑ ุนูุถุ ููู ุจุชโูุง ุงู ูุญุฏูุฏู ุจุงุฏ ฺฉูพ ุงุฒ ุจุช 47 ุจุงุดูุฏ ุชุง ุขุฏุฑุณโูุง ููุญุตุฑุจูโูุฑุฏ ุจุงุดูุฏ ู extension ูุง ุขูุฏู ูุงููุฏ <a href="https://en.wikipedia.org/wiki/Intel_5-level_paging">ุฌุฏูู ุตูุญู 5 ุณุทุญ</a> ุฑุง ููฺฉู ฺฉููุฏ. ุงู <em>sign-extension</em> ูุงูุฏู ูโุดูุฏ ุฒุฑุง ุจุณุงุฑ ุดุจู ุจู <a href="https://en.wikipedia.org/wiki/Two&#x27;s_complement#Sign_extension">extension ุนูุงูุช ุฏุฑ ูฺฉูู ุฏู</a> ุงุณุช. ููุช ุขุฏุฑุณ ุจู ุฏุฑุณุช ุงูุถุง ูุดุฏู ุจุงุดุฏุ CPU ฺฉ ุงุณุชุซูุง ุฑุง ุงุฑุงุฆู ูโุฏูุฏ.</p>
<p>ุดุงุงู ุฐฺฉุฑ ุงุณุช ฺฉู ูพุฑุฏุงุฒูุฏูโูุง ุงุฎุฑ โIce Lakeโ ุงูุชู ุจู ุตูุฑุช ุงุฎุชุงุฑ ุงุฒ <a href="https://en.wikipedia.org/wiki/Intel_5-level_paging">ุฌุฏููโูุง ุตูุญู 5 ุณุทุญ</a> ูพุดุชุจุงู ูโฺฉููุฏ ุชุง ุขุฏุฑุณโูุง ูุฌุงุฒ ุฑุง ุงุฒ 48 ุจุช ุจู 57 ุจุช ฺฏุณุชุฑุด ุฏููุฏ. ุจุง ุชูุฌู ุจู ุงูโฺฉู ุจูููโุณุงุฒ ูุณุชู ูุง ุจุฑุง ฺฉ CPU ุฎุงุต ุฏุฑ ุงู ูุฑุญูู ููุทู ูุณุชุ ูุง ุฏุฑ ุงู ูพุณุช ููุท ุจุง ุฌุฏููโูุง ุตูุญู 4 ุณุทุญู ุงุณุชุงูุฏุงุฑุฏ ฺฉุงุฑ ุฎูุงูู ฺฉุฑุฏ.</p>
<h3 id="mthly-z-trjmh"><a class="zola-anchor" href="index.html#mthly-z-trjmh" aria-label="Anchor link for: mthly-z-trjmh">๐</a>ูุซุงู ุงุฒ ุชุฑุฌูู</h3>
<p>ุจุงุฏ ูุซุงู ุจุฒูู ุชุง ุจุง ุฌุฒุฆุงุช ุจูููู ฺฉู ุฑููุฏ ุชุฑุฌูู ฺฺฏููู ฺฉุงุฑ ูโฺฉูุฏ:</p>
<p><img src="x86_64-page-table-translation.svg" alt="An example 4-level page hierarchy with each page table shown in physical memory" /></p>
<p>ุขุฏุฑุณ ูุฒฺฉ ุฌุฏูู ุตูุญู ุณุทุญ 4 ฺฉู ุฏุฑ ุญุงู ุญุงุถุฑ ูุนุงู ูโุจุงุดุฏุ ู ุฑุดู ุฌุฏูู ุตูุญู ุณุทุญ 4 ุงุณุชุ ุฏุฑ ุซุจุงุช <code>CR3</code> ุฐุฎุฑู ูโุดูุฏ. ุณูพุณ ูุฑ ูุฑูุฏ ุฌุฏูู ุตูุญู ุจู ูุงุจ ูุฒฺฉ ุฌุฏูู ุณุทุญ ุจุนุฏ ุงุดุงุฑู ูโฺฉูุฏ. ุณูพุณ ูุฑูุฏ ุฌุฏูู ุณุทุญ 1 ุจู ูุงุจ ูฺฏุงุดุช ุดุฏู ุงุดุงุฑู ูโฺฉูุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชูุงู ุขุฏุฑุณโูุง ููุฌูุฏ ุฏุฑ ุฌุฏููโูุง ุตูุญู ูุฒฺฉ ูุณุชูุฏุ ุจู ุฌุง ุงูโฺฉู ูุฌุงุฒ ุจุงุดูุฏุ ุฒุฑุง ุฏุฑ ุบุฑ ุงูโุตูุฑุช CPU ูุงุฒ ุจู ุชุฑุฌูู ุขู ุขุฏุฑุณโูุง ูุฒ ุฏุงุฑุฏ (ฺฉู ุงู ุงูุฑ ูโุชูุงูุฏ ุจุงุนุซ ุจุงุฒฺฏุดุช ุจโูพุงุงู ุดูุฏ).</p>
<p>ุณูุณูู ูุฑุงุชุจ ุฌุฏูู ุตูุญู ุจุงูุงุ ุฏู ุตูุญู ุฑุง ูฺฏุงุดุช ูโฺฉูุฏ (ุจู ุฑูฺฏ ุขุจ). ุงุฒ ุงูุฏุณโูุง ุฌุฏูู ุตูุญู ูโุชูุงู ูุชุฌู ฺฏุฑูุช ฺฉู ุขุฏุฑุณโูุง ูุฌุงุฒ ุงู ุฏู ุตูุญู <code>0x803FE7F000</code> ู <code>0x803FE00000</code> ุงุณุช. ุจุงุฏ ุจุจูู ฺู ุงุชูุงู ูโุงูุชุฏ ููุช ุจุฑูุงูู ุณุน ูโฺฉูุฏ ุงุฒ ุขุฏุฑุณ <code>0x803FE7F5CE</code> ุจุฎูุงูุฏ. ุงุจุชุฏุง ุขุฏุฑุณ ุฑุง ุจู ุจุงูุฑ ุชุจุฏู ูโฺฉูู ู ุงูุฏุณโูุง ุฌุฏูู ุตูุญู ู ุขูุณุช ุตูุญู ุฑุง ุจุฑุง ุขุฏุฑุณ ุชุนู ูโฺฉูู:</p>
<p><img src="x86_64-page-table-translation-addresses.png" alt="The sign extension bits are all 0, the level 4 index is 1, the level 3 index is 0, the level 2 index is 511, the level 1 index is 127, and the page offset is 0x5ce" /></p>
<p>ุจุง ุงุณุชูุงุฏู ุงุฒ ุงู ุงูุฏุณโูุงุ ุงฺฉููู ูโุชูุงูู ุณูุณูู ูุฑุงุชุจ ุฌุฏูู ุตูุญู ุฑุง ุจุฑุง ุชุนู ูุงุจ ูฺฏุงุดุชู ุดุฏู ุจุฑุง ุขุฏุฑุณ ุฏูุจุงู ฺฉูู:</p>
<ul>
<li>ูุง ุจุง ุฎูุงูุฏู ุขุฏุฑุณ ุฌุฏูู ุณุทุญ 4 ุงุฒ ุซุจุงุช <code>CR3</code> ุดุฑูุน ูโฺฉูู.</li>
<li>ุงูุฏุณ ุณุทุญ 4 ุจุฑุงุจุฑ ุจุง 1 ุงุณุชุ ุจูุงุจุฑุงู ูุง ุจู ูุฑูุฏ ุจุง ุงูุฏุณ 1 ุขู ุฌุฏูู ูฺฏุงู ูโฺฉููุ ฺฉู ุจู ูุง ูโฺฏูุฏ ุฌุฏูู ุณุทุญ 3 ุฏุฑ ุขุฏุฑุณ 16KiB ุฐุฎุฑู ุดุฏู ุงุณุช.</li>
<li>ูุง ุฌุฏูู ุณุทุญ 3 ุฑุง ุงุฒ ุขู ุขุฏุฑุณ ุจุงุฑฺฏุฑ ูโฺฉูู ู ูุฑูุฏ ุจุง ุงูุฏุณ 0 ุฑุง ูุดุงูุฏู ูโฺฉููุ ฺฉู ุฌุฏูู ุณุทุญ 2 ุฏุฑ 24KiB ุฑุง ุจู ูุง ูุดุงู ูโุฏูุฏ.</li>
<li>ุงูุฏุณ ุณุทุญ 2 ุจุฑุงุจุฑ ุจุง 511 ุงุณุชุ ุจูุงุจุฑุงู ูุง ุจุฑุง ุงูุชู ุขุฏุฑุณ ุฌุฏูู ุณุทุญ 1 ุจู ุขุฎุฑู ูุฑูุฏ ุขู ุตูุญู ูฺฏุงู ูโฺฉูู.</li>
<li>ุงุฒ ุทุฑู ูุฑูุฏ ุจุง ุงูุฏุณ 127 ุฌุฏูู ุณุทุญ 1ุ ูุง ุฏุฑ ููุงุช ูุชูุฌู ูโุดูู ฺฉู ุตูุญู ุฏุฑ ูุงุจ 12KiBุ ุง ุจุตูุฑุช ูฺฏุฒุงุฏุณูุงู ุฏุฑ 0x3000 ูฺฏุงุดุช ุดุฏู ุงุณุช.</li>
<li>ูุฑุญูู ุขุฎุฑ ุงูุฒูุฏู ุขูุณุช ุตูุญู ุจู ุขุฏุฑุณ ูุงุจ ุงุณุช ุชุง ุขุฏุฑุณ ูุฒฺฉ 0x3000 + 0x5ce = 0x35ce ุจุฏุณุช ุขุฏ.</li>
</ul>
<p><img src="x86_64-page-table-translation-steps.svg" alt="The same example 4-level page hierarchy with 5 additional arrows: โStep 0โ from the CR3 register to the level 4 table, โStep 1โ from the level 4 entry to the level 3 table, โStep 2โ from the level 3 entry to the level 2 table, โStep 3โ from the level 2 entry to the level 1 table, and โStep 4โ from the level 1 table to the mapped frames." /></p>
<p>ูุฌูุฒูุง ุตูุญู ุฏุฑ ุฌุฏูู ุณุทุญ 1ุ ูุฌูุฒ โrโ ุงุณุชุ ฺฉู ุจู ูุนูุง ููุท ุฎูุงูุฏู ุงุณุช. ุณุฎุชโุงูุฒุงุฑ ุงู ูุฌูุฒูุง ุฑุง ุงุนูุงู ูโฺฉูุฏ ู ุงฺฏุฑ ุจุฎูุงูู ุฏุฑ ุขู ุตูุญู ุจููุณู ฺฉ ุงุณุชุซูุง ุฑุง ุงุฌุงุฏ ูโฺฉูุฏ. ูุฌูุฒูุง ุฏุฑ ุตูุญุงุช ุณุทุญ ุจุงูุงุชุฑ ูุฌูุฒูุง ุงุญุชูุงู ุฑุง ุฏุฑ ุณุทุญ ูพุงู ูุญุฏูุฏ ูโฺฉููุฏุ ุจูุงุจุฑุงู ุงฺฏุฑ ูุฑูุฏ ุณุทุญ 3 ุฑุง ููุท ุจุฑุง ุฎูุงูุฏู ุชูุธู ฺฉููุ ุตูุญูโูุง ฺฉู ุงุฒ ุงู ูุฑูุฏ ุงุณุชูุงุฏู ูโฺฉููุฏ ูุฒ ูุงุจู ููุดุชู ูุณุชูุฏุ ุญุช ุงฺฏุฑ ุณุทูุญ ูพุงูโุชุฑ ูุฌูุฒูุง ุฎูุงูุฏู/ููุดุชู ุฑุง ูุดุฎุต ฺฉุฑุฏู ุจุงุดูุฏ.</p>
<p>ุชูุฌู ุจู ุงู ูฺฉุชู ููู ุงุณุช ฺฉู ุงฺฏุฑฺู ุงู ูุซุงู ููุท ุงุฒ ฺฉ ููููู ุงุฒ ูุฑ ุฌุฏูู ุงุณุชูุงุฏู ูโฺฉูุฏุ ุจู ุทูุฑ ูุนููู ุงุฒ ูุฑ ุณุทุญ ุฏุฑ ูุฑ ูุถุง ุขุฏุฑุณ ฺูุฏู ููููู ูุฌูุฏ ุฏุงุฑุฏ. ุฏุฑ ุญุงูุช ุญุฏุงฺฉุซุฑุ ููุงุฑุฏ ุฒุฑ ูุฌูุฏ ุฏุงุฑุฏ:</p>
<ul>
<li>ฺฉ ุฌุฏูู ุณุทุญ 4ุ</li>
<li>512 ุฌุฏูู ุณุทุญ 3 (ุฒุฑุง ุฌุฏูู ุณุทุญ 4 ุฏุงุฑุง 512 ูุฑูุฏ ุงุณุช)ุ</li>
<li>512 * 512 ุฌุฏูู ุณุทุญ 2 (ุฒุฑุง ูุฑ 512 ุฌุฏููู ุณุทุญ 3 ุฏุงุฑุง 512 ูุฑูุฏ ุงุณุช)ุ ู</li>
<li>512 * 512 * 512 ุฌุฏูู ุณุทุญ 1 (512 ูุฑูุฏ ุจุฑุง ูุฑ ุฌุฏูู ุณุทุญ 2).</li>
</ul>
<h3 id="qlb-jdwl-sfhh"><a class="zola-anchor" href="index.html#qlb-jdwl-sfhh" aria-label="Anchor link for: qlb-jdwl-sfhh">๐</a>ูุงูุจ ุฌุฏูู ุตูุญู</h3>
<p>ุฌุฏููโูุง ุตูุญู ุฏุฑ ูุนูุงุฑ x86_64 ุงุณุงุณุงู ุขุฑุงูโุง ุงุฒ 512 ูุฑูุฏ ุงุณุช. ุฏุฑ ุณูุชฺฉุณ (ฺฉููู: syntax) ุฑุงุณุช:</p>
<pre data-lang="rust" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-rust "><code class="language-rust" data-lang="rust"><span>#[repr(align(4096))]
</span><span style="color:#569cd6;">pub struct </span><span>PageTable {
</span><span>    entries: [PageTableEntry; 512],
</span><span>}
</span></code></pre>
<p>ููุงูโุทูุฑ ฺฉู ุจุง ูฺฺฏ <code>repr</code> ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุชุ ุฌุฏููโูุง ุตูุญู ุจุงุฏ ุตูุญู ุชุฑุงุฒ ุดููุฏุ ุนู ุฏุฑ ฺฉ ูุฑุฒ 4KiB ุชุฑุงุฒ ุดููุฏ. ุงู ูุงุฒ ุชุถูู ูโฺฉูุฏ ฺฉู ฺฉ ุฌุฏูู ุตูุญู ููุดู ฺฉ ุตูุญู ฺฉุงูู ุฑุง ูพุฑ ูโฺฉูุฏ ู ุจู ุจูููโุณุงุฒ ุงุฌุงุฒู ูโุฏูุฏ ฺฉู ูุฑูุฏโูุง ุฑุง ุจุณุงุฑ ุฌูุน ู ุฌูุฑ ฺฉูุฏ.</p>
<p>ูุฑ ูุฑูุฏ 8 ุจุงุช (64 ุจุช) ุงูุฏุงุฒู ุฏุงุฑุฏ ู ุฏุงุฑุง ูุงูุจ ุฒุฑ ุงุณุช:</p>
<table><thead><tr><th>Bit(s)</th><th>Name</th><th>Meaning</th></tr></thead><tbody>
<tr><td>0</td><td>present</td><td>the page is currently in memory</td></tr>
<tr><td>1</td><td>writable</td><td>itโs allowed to write to this page</td></tr>
<tr><td>2</td><td>user accessible</td><td>if not set, only kernel mode code can access this page</td></tr>
<tr><td>3</td><td>write through caching</td><td>writes go directly to memory</td></tr>
<tr><td>4</td><td>disable cache</td><td>no cache is used for this page</td></tr>
<tr><td>5</td><td>accessed</td><td>the CPU sets this bit when this page is used</td></tr>
<tr><td>6</td><td>dirty</td><td>the CPU sets this bit when a write to this page occurs</td></tr>
<tr><td>7</td><td>huge page/null</td><td>must be 0 in P1 and P4, creates a 1GiB page in P3, creates a 2MiB page in P2</td></tr>
<tr><td>8</td><td>global</td><td>page isnโt flushed from caches on address space switch (PGE bit of CR4 register must be set)</td></tr>
<tr><td>9-11</td><td>available</td><td>can be used freely by the OS</td></tr>
<tr><td>12-51</td><td>physical address</td><td>the page aligned 52bit physical address of the frame or the next page table</td></tr>
<tr><td>52-62</td><td>available</td><td>can be used freely by the OS</td></tr>
<tr><td>63</td><td>no execute</td><td>forbid executing code on this page (the NXE bit in the EFER register must be set)</td></tr>
</tbody></table>
<p>ูโุจูู ฺฉู ููุท ุจุชโูุง 12โ51 ุจุฑุง ุฐุฎุฑู ุขุฏุฑุณ ูุงุจ ูุฒฺฉ ุงุณุชูุงุฏู ูโุดูุฏุ ุจุชโูุง ุจุงูโูุงูุฏู ุจู ุนููุงู ูพุฑฺู ุงุณุชูุงุฏู ูโุดููุฏ ุง ุชูุณุท ุณุณุชูโุนุงูู ูโุชูุงููุฏ ุขุฒุงุฏุงูู ุงุณุชูุงุฏู ุดููุฏ. ุงู ุงูฺฉุงู ูุฌูุฏ ุฏุงุฑุฏ ุฒุฑุง ูุง ููุดู ุจู ฺฉ ุขุฏุฑุณ ุชุฑุงุฒ ุดุฏู 4096 ุจุงุชุ ุง ุจู ฺฉ ุฌุฏูู ุตูุญู ุชุฑุงุฒ ุดุฏู ุจุง ุตูุญู ุง ุจู ุดุฑูุน ฺฉ ูุงุจ ูฺฏุงุดุช ุดุฏูุ ุงุดุงุฑู ูโฺฉูู. ุงู ุจุฏุงู ูุนูุงุณุช ฺฉู ุจุชโูุง 0โ11 ููุดู ุตูุฑ ูุณุชูุฏุ ุจูุงุจุฑุงู ุฏูู ุจุฑุง ุฐุฎุฑู ุงู ุจุชโูุง ูุฌูุฏ ูุฏุงุฑุฏ ุฒุฑุง ุณุฎุชโุงูุฒุงุฑ ูโุชูุงูุฏ ุขูโูุง ุฑุง ูุจู ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุขุฏุฑุณ ุตูุฑ ฺฉูุฏ. ุงู ููุฑุฏ ุฏุฑ ุจุชโูุง 52-63 ูุฒ ุตุฏู ูโฺฉูุฏุ ุฒุฑุง ูุนูุงุฑ x86_64 ููุท ุงุฒ ุขุฏุฑุณโูุง ูุฒฺฉ 52 ุจุช ูพุดุชุจุงู ูโฺฉูุฏ (ููุงูโุทูุฑ ฺฉู ููุท ุงุฒ ุขุฏุฑุณโูุง ูุฌุงุฒ 48 ุจุช ูพุดุชุจุงู ูโฺฉูุฏ).</p>
<p>ุจุงุฏ ูฺฏุงู ุฏููโุชุฑ ุจู ูพุฑฺูโูุง ููุฌูุฏ ุจูุฏุงุฒู:</p>
<ul>
<li>ูพุฑฺู <code>present</code> ุตูุญุงุช ูฺฏุงุดุช ุดุฏู ุฑุง ุงุฒ ุตูุญุงุช ูฺฏุงุดุชู ูุดุฏู ูุชูุงุฒ ูโฺฉูุฏ. ููุช ุญุงูุธู ุงุตู ูพุฑ ุดูุฏ ูโุชูุงู ุงุฒ ุขู ุจุฑุง ุชุนูุถ ูููุช ุตูุญุงุช ุฑู ุฏุณฺฉ ุงุณุชูุงุฏู ฺฉุฑุฏ. ููุช ูุชุนุงูุจุงู ุจู ุตูุญู ุฏุณุชุฑุณ ูพุฏุง ุดุฏุ ฺฉ ุงุณุชุซูุง ูฺู ุจู ูุงู <em>page fault</em> ุงุชูุงู ูโุงูุชุฏ ฺฉู ุณุณุชูโุนุงูู ูโุชูุงูุฏ ุจุง ุจุงุฑฺฏุฑ ูุฌุฏุฏ ุตูุญู ุงุฒ ุฏุณุช ุฑูุชู ุงุฒ ุฏุณฺฉ ู ุณูพุณ ุงุฏุงูู ุจุฑูุงููโุ ุจู ุขู ูุงฺฉูุด ูุดุงู ุฏูุฏ.</li>
<li>ูพุฑฺูโูุง <code>writable</code> ู <code>no execute</code> ุจู ุชุฑุชุจ ฺฉูุชุฑู ูโฺฉููุฏ ฺฉู ุขุง ูุญุชูุง ุตูุญูุ ยซูุงุจู ููุดุชูยป ุง ยซุญุงู ุฏุณุชูุฑุงูุนููโูุง ุงุฌุฑุง ุจูุฏูยป ูุณุชูุฏ.</li>
<li>ูพุฑฺู ูุง <code>accessed</code> ู <code>dirty</code> ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ููฺฏุงู ูพุฑุฏุงุฒุด ุง ููุดุชู ุฑู ุตูุญู ุชูุณุท CPU ุชูุธู ูโุดููุฏ. ุงู ุงุทูุงุนุงุช ูโุชูุงูุฏ ุชูุณุท ุณุณุชูโุนุงูู ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ฺฏุฑุฏ. ุจู ุนููุงู ูุซุงู ุจุฑุง ุชุตููโฺฏุฑ ุฏุฑ ููุฑุฏ ุชุนูุถ ุตูุญูโูุง ุง ุชุบุฑ ูุญุชูุง ุตูุญู ุงุฒ ุขุฎุฑู ุฐุฎุฑู ุฑู ุฏุณฺฉ.</li>
<li>ูพุฑฺูโูุง <code>write through caching</code> ู <code>disable cache</code> ุงูฺฉุงู ฺฉูุชุฑู ุญุงูุธู ูพููุงู ุจุฑุง ูุฑ ุตูุญู ุฑุง ุจู ุตูุฑุช ุฌุฏุงฺฏุงูู ูุฑุงูู ูโฺฉูุฏ.</li>
<li>ูพุฑฺู <code>user accessible</code> ฺฉ ุตูุญู ุฑุง ุฏุฑ ุฏุณุชุฑุณ ฺฉุฏ ูุถุง ฺฉุงุฑุจุฑ ูุฑุงุฑ ูโุฏูุฏุ ุฏุฑ ุบุฑ ุงูโุตูุฑุช ููุท ููุช CPU ุฏุฑ ุญุงูุช ูุณุชู ุงุณุชุ ูุงุจู ุฏุณุชุฑุณ ุงุณุช. ุงุฒ ุงู ูฺฺฏ ูโุชูุงูุฏ ุจุฑุง ุณุฑุนโุชุฑ ฺฉุฑุฏู <a href="https://en.wikipedia.org/wiki/System_call">ูุฑุงุฎูุงูโูุง ุณุณุชู</a> ุจุง ูฺฏู ุฏุงุดุชู ูฺฏุงุดุช ูุณุชู ุฏุฑ ุญู ุงุฌุฑุง ุจุฑูุงูู ูุถุง ฺฉุงุฑุจุฑ ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ฺฏุฑุฏ. ุจุง ุงู ูุฌูุฏุ ุขุณุจโูพุฐุฑ <a href="https://en.wikipedia.org/wiki/Spectre_(security_vulnerability)">Spectre</a> ูโุชูุงูุฏ ุจู ุจุฑูุงููโูุง ูุถุง ฺฉุงุฑุจุฑ ุงุฌุงุฒู ุฏูุฏ ุงู ุตูุญุงุช ุฑุง ุจุฎูุงููุฏ.</li>
<li>ูพุฑฺู <code>global</code> ุจู ุณุฎุชโุงูุฒุงุฑ ุณฺฏูุงู ูโุฏูุฏ ฺฉู ฺฉ ุตูุญู ุฏุฑ ุชูุงู ูุถุงูุง ุขุฏุฑุณ ููุฌูุฏ ุงุณุช ู ุจูุงุจุฑุงู ูุงุฒ ุจู ุญุฐู ุดุฏู ุงุฒ ุญุงูุธู ูพููุงู ุชุฑุฌูู ูุณุช (ุจู ุจุฎุด TLB ุฒุฑ ูุฑุงุฌุนู ฺฉูุฏ) ุฏุฑ ุชุนูุถโูุง ูุถุง ุขุฏุฑุณ. ุงู ูพุฑฺู ูุนูููุงู ููุฑุงู ุจุง ฺฉ ูพุฑฺู ูพุงฺฉ ุดุฏู <code>user accessible</code> ุจุฑุง ูฺฏุงุดุช ฺฉุฏ ูุณุชู ุฏุฑ ุชูุงู ูุถุงูุง ุขุฏุฑุณ ุงุณุชูุงุฏู ูโุดูุฏ.</li>
<li>ูพุฑฺู <code>large page</code> ุจุง ุงุฌุงุฒู ุฏุงุฏู ุจู ูุฑูุฏ ุฌุฏููโูุง ุตูุญู ุณุทุญ 2 ุง ุณุทุญ 3ุ ุงุฌุงุฒู ุงุฌุงุฏ ุตูุญุงุช ุจุง ุงูุฏุงุฒู ุจุฒุฑฺฏุชุฑ ุฑุง ูโุฏูุฏ ุชุง ูุณุชููุงู ุจู ฺฉ ูุงุจ ูฺฏุงุดุช ุดุฏู ุงุดุงุฑู ฺฉููุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ ุงู ุจุชุ ุงูุฏุงุฒู ุตูุญู ุจุง ุถุฑุจ 512 ุงูุฒุงุด ูโุงุจุฏ ุจุฑุง ูุฑ ฺฉ ุงุฒ 2MiB = 512 * 4KiB ูุฑูุฏโูุง ุณุทุญ 2 ุง 1GiB = 512 * 2MiB ุจุฑุง ูุฑูุฏโูุง ุณุทุญ 3. ูุฒุช ุงุณุชูุงุฏู ุงุฒ ุตูุญุงุช ุจุฒุฑฺฏุชุฑ ุงู ุงุณุช ฺฉู ุจู ุฎุทูุท ุญุงูุธู ูพููุงู ุชุฑุฌูู ฺฉูุชุฑ ู ุฌุฏููโูุง ุตูุญู ฺฉูุชุฑ ูุงุฒ ุงุณุช.</li>
</ul>
<p>ฺฉุฑุช <code>x86_64</code> ุงููุงุน ูุฎุชูู ุฑุง ุจุฑุง <a href="https://docs.rs/x86_64/0.14.2/x86_64/structures/paging/page_table/struct.PageTable.html">ุฌุฏููโูุง ุตูุญู</a> ู <a href="https://docs.rs/x86_64/0.14.2/x86_64/structures/paging/page_table/struct.PageTableEntry.html">ูุฑูุฏโูุง</a> ุขูโูุง ูุฑุงูู ูโฺฉูุฏุ ุจูุงุจุฑุงู ูุงุฒ ูุณุช ฺฉู ุฎูุฏูุงู ุงู ุณุงุฎุชุงุฑูุง ุฑุง ุงุฌุงุฏ ฺฉูู.</p>
<h3 id="bfr-trjmh-lookaside"><a class="zola-anchor" href="index.html#bfr-trjmh-lookaside" aria-label="Anchor link for: bfr-trjmh-lookaside">๐</a>ุจุงูุฑ ุชุฑุฌูู Lookaside</h3>
<p>ฺฉ ุฌุฏูู ุตูุญู 4 ุณุทุญุ ุชุฑุฌูู ุขุฏุฑุณโูุง ูุฌุงุฒ ุฑุง ูพูุฑ ูุฒููโ ูโฺฉูุฏุ ุฒุฑุง ูุฑ ุชุฑุฌูู ุจู 4 ุฏุณุชุฑุณ ุญุงูุธู ูุงุฒ ุฏุงุฑุฏ. ุจุฑุง ุจูุจูุฏ ุนููฺฉุฑุฏุ ูุนูุงุฑ x86_64 ุขุฎุฑู ุชุฑุฌููโูุง ุฑุง ุฏุฑ <em>translation lookaside buffer</em> ุง ุจู ุงุฎุชุตุงุฑ TLB ุฐุฎุฑู ูโฺฉูุฏ. ู ุงู ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ุชุง ุงุฒ ุชุฑุฌูู ฺฉุฑุฏู ูุฌุฏุฏ ุชุฑุฌููโูุง ฺฉู ุฏุฑ ุญุงูุธู ูพููุงู ูุฑุงุฑ ุฏุงุฑูุฏ ุฎูุฏุฏุงุฑ ฺฉูู.</p>
<p>ุจุฑุฎูุงู ุณุงุฑ ุญุงูุธูโูุง ูพููุงู ูพุฑุฏุงุฒูุฏูุ TLB ฺฉุงููุงู ุดูุงู ูุจูุฏู ู ุจุง ุชุบุฑ ูุญุชูุง ุฌุฏููโูุง ุตูุญูุ ุชุฑุฌููโูุง ุฑุง ุจูโุฑูุฒ ู ุญุฐู ููโฺฉูุฏ. ุงู ุจุฏุงู ูุนู ุงุณุช ฺฉู ูุณุชู ูุฑ ุฒูุงู ฺฉู ุฌุฏูู ุตูุญู ุฑุง ุชุบุฑ ูโุฏูุฏ ุจุงุฏ TLB ุฑุง ุจู ุตูุฑุช ุฏุณุช ุจูโุฑูุฒ ฺฉูุฏ. ุจุฑุง ุงูุฌุงู ุงู ฺฉุงุฑุ ฺฉ ุฏุณุชูุฑุงูุนูู ูฺู ูพุฑุฏุงุฒูุฏู ูุฌูุฏ ุฏุงุฑุฏ ุจู ูุงู <a href="https://www.felixcloutier.com/x86/INVLPG.html"><code>invlpg</code></a> (โุตูุญู ูุงูุนุชุจุฑโ) ฺฉู ุชุฑุฌูู ุจุฑุง ุตูุญู ูุดุฎุต ุดุฏู ุฑุง ุงุฒ TLB ุญุฐู ูโฺฉูุฏุ ุจูุงุจุฑุงู ุฏูุจุงุฑู ุงุฒ ุฌุฏูู ุตูุญู ุฏุฑ ุฏุณุชุฑุณ ุจุนุฏ ุจุงุฑฺฏุฑ ูโุดูุฏ. TLB ููฺูู ูโุชูุงูุฏ ุจุง ุจุงุฑฺฏุฑ ูุฌุฏุฏ ุฑุฌุณุชุฑ <code>CR3</code>ุ ฺฉู ฺฉ ุชุนูุถ ูุถุง ุขุฏุฑุณ ุฑุง ุดุจูโุณุงุฒ ูโฺฉูุฏุ ฺฉุงููุงู ููุงุด (ฺฉููู: flush) ุดูุฏ. ฺฉุฑุช <code>x86_64</code> ุชูุงุจุน ุฑุงุณุช ุฑุง ุจุฑุง ูุฑ ุฏู ููุน ุฏุฑ <a href="https://docs.rs/x86_64/0.14.2/x86_64/instructions/tlb/index.html">ูุงฺูู <code>tlb</code></a> ูุฑุงูู ูโฺฉูุฏ.</p>
<p>ููู ุงุณุช ฺฉู ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู TLB ุฑุง ุฑู ูุฑ ุฌุฏูู ุตูุญู ููุงุด ฺฉูุฏุ ุฒุฑุง ุฏุฑ ุบุฑ ุงูโุตูุฑุช ูพุฑุฏุงุฒูุฏู ููฺฉู ุงุณุช ุงุฒ ุชุฑุฌูู ูุฏู ุงุณุชูุงุฏู ฺฉูุฏุ ฺฉู ูโุชูุงูุฏ ููุฌุฑ ุจู ุจุงฺฏโูุง ุบุฑูุทุน ุดูุฏ ฺฉู ุงุดฺฉุงูโุฒุฏุง ุขู ุจุณุงุฑ ุณุฎุช ุงุณุช.</p>
<h2 id="pydhszy"><a class="zola-anchor" href="index.html#pydhszy" aria-label="Anchor link for: pydhszy">๐</a>ูพุงุฏูโุณุงุฒ</h2>
<p>ฺุฒ ฺฉู ูุง ูููุฒ ุจู ุขู ุงุดุงุฑู ูฺฉุฑุฏู: <strong>ูุณุชู ูุง ุงุฒ ูุจู ุจุง ุตูุญูโุจูุฏ ุงุฌุฑุง ูโุดูุฏ</strong>. ุจูุชโููุฏุฑ ฺฉู ุฏุฑ ูพุณุช <a href="../minimal-rust-kernel/index.html#skht-dyskh-ymyj">โฺฉ ูุณุชู ูููุงู ุจุง Rustโ</a> ุงุถุงูู ฺฉุฑุฏูุ ูุจูุงู ฺฉ ุณูุณูู ูุฑุงุชุจ ุตูุญูโุจูุฏ 4 ุณุทุญ ุฑุง ุชูุธู ฺฉุฑุฏู ุงุณุช ฺฉู ูุฑ ุตูุญู ุงุฒ ูุณุชู ูุง ุฑุง ุฏุฑ ฺฉ ูุงุจ ูุฒฺฉ ูฺฏุงุดุช ูโฺฉูุฏ. ุจูุชโููุฏุฑ ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ูโุฏูุฏ ุฒุฑุง ุตูุญูโุจูุฏ ุฏุฑ ุญุงูุช 64 ุจุช ุฏุฑ x86_64 ุงุฌุจุงุฑ ุงุณุช.</p>
<p>ุงู ุจุฏุงู ูุนูุงุณุช ฺฉู ูุฑ ุขุฏุฑุณ ุญุงูุธูโุง ฺฉู ุฏุฑ ูุณุชู ุฎูุฏ ุงุณุชูุงุฏู ฺฉุฑุฏู ฺฉ ุขุฏุฑุณ ูุฌุงุฒ ุจูุฏ. ุฏุณุชุฑุณ ุจู ุจุงูุฑ VGA ุฏุฑ ุขุฏุฑุณ <code>0xb8000</code> ููุท ุจู ุงู ุฏูู ฺฉุงุฑ ฺฉุฑุฏ ฺฉู ุจูุชโููุฏุฑ ุขู ุตูุญู ุญุงูุธู ุฑุง ูฺฏุงุดุช ฺฉุชุง (ุชุฑุฌูู: identity mapped) ฺฉุฑุฏุ ุนู ุตูุญู ูุฌุงุฒ <code>0xb8000</code> ุฑุง ุจุง ูุฑู ูุฒฺฉ <code>0xb8000</code> ูฺฏุงุดุช ฺฉุฑุฏู ุงุณุช.</p>
<p>ุตูุญูโุจูุฏ ุจุงุนุซ ูโุดูุฏ ฺฉู ูุณุชู ูุง ูุณุจุชุงู ุงูู ุจุงุดุฏุ ุฒุฑุง ูุฑ ุฏุณุชุฑุณ ุจู ุญุงูุธู ฺฉู ุงุฒ ูุฑุฒ ุฎุงุฑุฌ ุดูุฏ ุจุงุนุซ ุงุฌุงุฏ ุงุณุชุซูุง ุฎุทุง ุตูุญูุ ุจู ุฌุง ููุดุชู ุฑู ุญุงูุธู ูุฒฺฉ ุชุตุงุฏู ูโุดูุฏ. ุจูุชโููุฏุฑ ุญุช ูุฌูุฒูุง ุฏุณุชุฑุณ ุตุญุญ ุฑุง ุจุฑุง ูุฑ ุตูุญู ุชูุธู ฺฉุฑุฏู ุงุณุชุ ุจู ุงู ูุนู ฺฉู ููุท ุตูุญุงุช ุญุงู ฺฉุฏ ูุงุจู ุงุฌุฑุง ูุณุชูุฏ ู ููุท ุตูุญุงุช ุฏุงุฏู ูุงุจู ููุดุชู ูุณุชูุฏ.</p>
<h3 id="khthy-sfhh"><a class="zola-anchor" href="index.html#khthy-sfhh" aria-label="Anchor link for: khthy-sfhh">๐</a>ุฎุทุงูุง ุตูุญู</h3>
<p>ุจุงุฏ ุณุน ฺฉูู ุจุง ุฏุณุชุฑุณ ุจู ุจุฑุฎ ุงุฒ ุญุงูุธูโูุง ุฎุงุฑุฌ ุงุฒ ูุณุชูุ ุจุงุนุซ ุงุฌุงุฏ ุฎุทุง ุตูุญู ุดูู. ุงุจุชุฏุงุ ฺฉ ฺฉูุชุฑูโฺฉููุฏู ุฎุทุง ุตูุญู ุงุฌุงุฏ ูโฺฉูู ู ุขู ุฑุง ุฏุฑ IDT ุซุจุช ูโฺฉููุ ุจูโุทูุฑ ฺฉู ุจู ุฌุง ฺฉ <a href="../double-fault-exceptions/index.html">ุฎุทุง ุฏูฺฏุงูู</a> ฺฉ ุงุณุชุซูุง ุฎุทุง ุตูุญู ูุดุงูุฏู ูโฺฉูู:</p>
<pre data-lang="rust" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#608b4e;">// in src/interrupts.rs
</span><span>
</span><span>lazy_static! {
</span><span>    </span><span style="color:#569cd6;">static ref </span><span style="color:#b4cea8;">IDT</span><span>: InterruptDescriptorTable = {
</span><span>        </span><span style="color:#569cd6;">let mut</span><span> idt = InterruptDescriptorTable::new();
</span><span>
</span><span>        [โฆ]
</span><span>
</span><span>        idt.page_fault.set_handler_fn(page_fault_handler); </span><span style="color:#608b4e;">// new
</span><span>
</span><span>        idt
</span><span>    };
</span><span>}
</span><span>
</span><span style="color:#569cd6;">use </span><span>x86_64::structures::idt::PageFaultErrorCode;
</span><span style="color:#569cd6;">use crate</span><span>::hlt_loop;
</span><span>
</span><span style="color:#569cd6;">extern </span><span style="color:#d69d85;">&quot;x86-interrupt&quot; </span><span style="color:#569cd6;">fn </span><span>page_fault_handler(
</span><span>    stack_frame: InterruptStackFrame,
</span><span>    error_code: PageFaultErrorCode,
</span><span>) {
</span><span>    </span><span style="color:#569cd6;">use </span><span>x86_64::registers::control::Cr2;
</span><span>
</span><span>    println!(</span><span style="color:#d69d85;">&quot;EXCEPTION: PAGE FAULT&quot;</span><span>);
</span><span>    println!(</span><span style="color:#d69d85;">&quot;Accessed Address: </span><span style="color:#b4cea8;">{:?}</span><span style="color:#d69d85;">&quot;</span><span>, Cr2::read());
</span><span>    println!(</span><span style="color:#d69d85;">&quot;Error Code: </span><span style="color:#b4cea8;">{:?}</span><span style="color:#d69d85;">&quot;</span><span>, error_code);
</span><span>    println!(</span><span style="color:#d69d85;">&quot;</span><span style="color:#b4cea8;">{:#?}</span><span style="color:#d69d85;">&quot;</span><span>, stack_frame);
</span><span>    hlt_loop();
</span><span>}
</span></code></pre>
<p>ุซุจุงุช <a href="https://en.wikipedia.org/wiki/Control_register#CR2"><code>CR2</code></a> ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ุชูุณุท CPU ุฑู ุฎุทุง ุตูุญู ุชูุธู ูโุดูุฏ ู ุญุงู ุขุฏุฑุณ ูุฌุงุฒ ูุงุจู ุฏุณุชุฑุณ ุงุณุช ฺฉู ุจุงุนุซ ุฑุฎ ุฏุงุฏู ุฎุทุง ุตูุญู ุดุฏู ุงุณุช. ูุง ุจุฑุง ุฎูุงูุฏู ู ฺุงูพ ุขู ุงุฒ ุชุงุจุน <a href="https://docs.rs/x86_64/0.14.2/x86_64/registers/control/struct.Cr2.html#method.read"><code>Cr2::read</code></a> ฺฉุฑุช <code> x86_64</code> ุงุณุชูุงุฏู ูโฺฉูู. ููุน <a href="https://docs.rs/x86_64/0.14.2/x86_64/structures/idt/struct.PageFaultErrorCode.html"><code>PageFaultErrorCode</code></a> ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑ ููุฑุฏ ููุน ุฏุณุชุฑุณ ุจู ุญุงูุธูโุง ฺฉู ุจุงุนุซ ุฎุทุง ุตูุญู ุดุฏู ุงุณุชุ ูุฑุงูู ู ฺฉูุฏุ ุจู ุนููุงู ูุซุงู ุงู ุงูุฑ ุจู ุฏูู ุฎูุงูุฏู ุง ููุดุชู ุจูุฏู ุงุณุช. ุจู ููู ุฏูู ูุง ุขู ุฑุง ูุฒ ฺุงูพ ูโฺฉูู. ุจุฏูู ุฑูุน ุฎุทุง ุตูุญู ููโุชูุงูู ุจู ุงุฌุฑุง ุงุฏุงูู ุฏููุ ุจูุงุจุฑุงู ุฏุฑ ุงูุชูุง ฺฉ [hlt_loop] ุงุถุงูู ูโฺฉูู.</p>
<p>ุงฺฉููู ูโุชูุงูู ุจู ุจุฑุฎ ุงุฒ ุญุงูุธูโูุง ุฎุงุฑุฌ ุงุฒ ูุณุชู ุฎูุฏ ุฏุณุชุฑุณ ูพุฏุง ฺฉูู:</p>
<pre data-lang="rust" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#608b4e;">// in src/main.rs
</span><span>
</span><span>#[no_mangle]
</span><span style="color:#569cd6;">pub extern </span><span style="color:#d69d85;">&quot;C&quot; </span><span style="color:#569cd6;">fn </span><span>_start() -&gt; </span><span style="color:#569cd6;">! </span><span>{
</span><span>    println!(</span><span style="color:#d69d85;">&quot;Hello World</span><span style="color:#b4cea8;">{}</span><span style="color:#d69d85;">&quot;</span><span>, </span><span style="color:#d69d85;">&quot;!&quot;</span><span>);
</span><span>
</span><span>    blog_os::init();
</span><span>
</span><span>    </span><span style="color:#608b4e;">// new
</span><span>    </span><span style="color:#569cd6;">let</span><span> ptr = </span><span style="color:#b5cea8;">0xdeadbeaf </span><span style="color:#569cd6;">as *mut u32</span><span>;
</span><span>    </span><span style="color:#569cd6;">unsafe </span><span>{ *ptr = </span><span style="color:#b5cea8;">42</span><span>; }
</span><span>
</span><span>    </span><span style="color:#608b4e;">// as before
</span><span>    #[cfg(test)]
</span><span>    test_main();
</span><span>
</span><span>    println!(</span><span style="color:#d69d85;">&quot;It did not crash!&quot;</span><span>);
</span><span>    blog_os::hlt_loop();
</span><span>}
</span></code></pre>
<p>ููฺฏุงู ฺฉู ุขู ุฑุง ุงุฌุฑุง ูโฺฉููุ ูโุจูู ฺฉู ฺฉูุชุฑูโฺฉููุฏู ุฎุทุง ุตูุญู ูุง ุตุฏุง ุฒุฏู ูโุดูุฏ:</p>
<p><img src="qemu-page-fault.png" alt="EXCEPTION: Page Fault, Accessed Address: VirtAddr(0xdeadbeaf), Error Code: CAUSED_BY_WRITE, InterruptStackFrame: {โฆ}" /></p>
<p>ุซุจุงุช <code>CR2</code> ุฏุฑ ูุงูุน ุญุงู<code> 0xdeadbeaf</code> ูุณุชุ ุขุฏุฑุณ ฺฉู ุณุน ฺฉุฑุฏู ุจู ุขู ุฏุณุชุฑุณ ูพุฏุง ฺฉูู. ฺฉุฏ ุฎุทุง ุงุฒ ุทุฑู <a href="https://docs.rs/x86_64/0.14.2/x86_64/structures/idt/struct.PageFaultErrorCode.html#associatedconstant.CAUSED_BY_WRITE"><code>CAUSED_BY_WRITE</code></a> ุจู ูุง ูโฺฏูุฏ ฺฉู ุฎุทุง ููฺฏุงู ุชูุงุด ุจุฑุง ุงูุฌุงู ฺฉ ุนููุงุช ููุดุชู ุฑุฎ ุฏุงุฏู ุงุณุช. ุญุช ุงุฒ ุทุฑู <a href="https://docs.rs/x86_64/0.14.2/x86_64/structures/idt/struct.PageFaultErrorCode.html">ุจุชโูุง ฺฉู ุชูุธู <em>ูุดุฏูโุงูุฏ</em></a> ุงุทูุงุนุงุช ุจุดุชุฑ ุจู ูุง ูโุฏูุฏ. ุจู ุนููุงู ูุซุงูุ ุนุฏู ุชูุธู ูพุฑฺู <code>PROTECTION_VIOLATION</code> ุจู ุงู ูุนู ุงุณุช ฺฉู ุฎุทุง ุตูุญู ุฑุฎ ุฏุงุฏู ุงุณุช ุฒุฑุง ุตูุญู ูุฏู ูุฌูุฏ ูุฏุงุฑุฏ.</p>
<p>ูโุจูู ฺฉู ุงุดุงุฑูโฺฏุฑ ุฏุณุชูุฑุงูุนูู ูุนู <code>0x2031b2</code> ูโุจุงุดุฏุ ุจูุงุจุฑุงู ูโุฏุงูู ฺฉู ุงู ุขุฏุฑุณ ุจู ฺฉ ุตูุญู ฺฉุฏ ุงุดุงุฑู ุฏุงุฑุฏ. ุตูุญุงุช ฺฉุฏ ุชูุณุท ุจูุชโููุฏุฑ ุจุตูุฑุช ููุท ุฎูุงูุฏู ูฺฏุงุดุช ูโุดููุฏุ ุจูุงุจุฑุงู ุฎูุงูุฏู ุงุฒ ุงู ุขุฏุฑุณ ุงูฺฉุงูโูพุฐุฑ ุงุณุช ุงูุง ููุดุชู ุจุงุนุซ ุฎุทุง ุตูุญู ูโุดูุฏ. ูโุชูุงูุฏ ุงู ฺฉุงุฑ ุฑุง ุจุง ุชุบุฑ ุงุดุงุฑูโฺฏุฑ <code>0xdeadbeaf</code> ุจู <code>0x2031b2</code> ุงูุชุญุงู ฺฉูุฏ:</p>
<pre data-lang="rust" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#608b4e;">// Note: The actual address might be different for you. Use the address that
</span><span style="color:#608b4e;">// your page fault handler reports.
</span><span style="color:#569cd6;">let</span><span> ptr = </span><span style="color:#b5cea8;">0x2031b2 </span><span style="color:#569cd6;">as *mut u32</span><span>;
</span><span>
</span><span style="color:#608b4e;">// read from a code page
</span><span style="color:#569cd6;">unsafe </span><span>{ </span><span style="color:#569cd6;">let</span><span> x = *ptr; }
</span><span>println!(</span><span style="color:#d69d85;">&quot;read worked&quot;</span><span>);
</span><span>
</span><span style="color:#608b4e;">// write to a code page
</span><span style="color:#569cd6;">unsafe </span><span>{ *ptr = </span><span style="color:#b5cea8;">42</span><span>; }
</span><span>println!(</span><span style="color:#d69d85;">&quot;write worked&quot;</span><span>);
</span></code></pre>
<p>ุจุง ฺฉุงููุช ฺฉุฑุฏู ุฎุท ุขุฎุฑุ ูโุจูู ฺฉู ุฏุณุชุฑุณ ุฎูุงูุฏู ฺฉุงุฑ ูโฺฉูุฏุ ุงูุง ุฏุณุชุฑุณ ููุดุชู ุจุงุนุซ ุฎุทุง ุตูุญู ูโุดูุฏ:</p>
<p><img src="qemu-page-fault-protection.png" alt="QEMU with output: โread worked, EXCEPTION: Page Fault, Accessed Address: VirtAddr(0x2031b2), Error Code: PROTECTION_VIOLATION | CAUSED_BY_WRITE, InterruptStackFrame: {โฆ}โ" /></p>
<p>ูโุจูู ฺฉู ูพุงู <em>โread workedโ</em> ฺุงูพ ุดุฏู ุงุณุชุ ฺฉู ูุดุงู ูโุฏูุฏ ุนููุงุช ุฎูุงูุฏู ูฺ ุฎุทุง ุงุฌุงุฏ ูฺฉุฑุฏู ุงุณุช. ุจุง ุงู ุญุงูุ ุจู ุฌุง ูพุงู <em>โwrite workedโ</em> ุฎุทุง ุตูุญู ุฑุฎ ูโุฏูุฏ. ุงู ุจุงุฑ ูพุฑฺู <a href="https://docs.rs/x86_64/0.14.2/x86_64/structures/idt/struct.PageFaultErrorCode.html#associatedconstant.PROTECTION_VIOLATION"><code>PROTECTION_VIOLATION</code></a> ุนูุงูู ุจุฑ ูพุฑฺู <a href="https://docs.rs/x86_64/0.14.2/x86_64/structures/idt/struct.PageFaultErrorCode.html#associatedconstant.CAUSED_BY_WRITE"><code>CAUSED_BY_WRITE</code></a> ุชูุธู ุดุฏู ุงุณุชุ ฺฉู ูุดุงูโุฏููุฏูโ ูุฌูุฏ ุตูุญู ุงุณุชุ ุงูุง ุนููุงุช ุฑู ุขู ูุฌุงุฒ ูุณุช. ุฏุฑ ุงู ุญุงูุช ููุดุชู ุฏุฑ ุตูุญู ูุฌุงุฒ ูุณุช ุฒุฑุง ุตูุญุงุช ฺฉุฏ ุจู ุตูุฑุช ููุท ุฎูุงูุฏู ูฺฏุงุดุช ูโุดููุฏ.</p>
<h3 id="dstrsy-bh-jdwlhy-sfhh"><a class="zola-anchor" href="index.html#dstrsy-bh-jdwlhy-sfhh" aria-label="Anchor link for: dstrsy-bh-jdwlhy-sfhh">๐</a>ุฏุณุชุฑุณ ุจู ุฌุฏููโูุง ุตูุญู</h3>
<p>ุจุงุฏ ุณุน ฺฉูู ูฺฏุงู ุจู ุฌุฏููโูุง ุตูุญู ุจูุฏุงุฒู ฺฉู ูุญูู ูฺฏุงุดุช ูุณุชู ุฑุง ูุดุฎุต ูโฺฉูุฏ:</p>
<pre data-lang="rust" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#608b4e;">// in src/main.rs
</span><span>
</span><span>#[no_mangle]
</span><span style="color:#569cd6;">pub extern </span><span style="color:#d69d85;">&quot;C&quot; </span><span style="color:#569cd6;">fn </span><span>_start() -&gt; </span><span style="color:#569cd6;">! </span><span>{
</span><span>    println!(</span><span style="color:#d69d85;">&quot;Hello World</span><span style="color:#b4cea8;">{}</span><span style="color:#d69d85;">&quot;</span><span>, </span><span style="color:#d69d85;">&quot;!&quot;</span><span>);
</span><span>
</span><span>    blog_os::init();
</span><span>
</span><span>    </span><span style="color:#569cd6;">use </span><span>x86_64::registers::control::Cr3;
</span><span>
</span><span>    </span><span style="color:#569cd6;">let </span><span>(level_4_page_table, </span><span style="color:#569cd6;">_</span><span>) = Cr3::read();
</span><span>    println!(</span><span style="color:#d69d85;">&quot;Level 4 page table at: </span><span style="color:#b4cea8;">{:?}</span><span style="color:#d69d85;">&quot;</span><span>, level_4_page_table.start_address());
</span><span>
</span><span>    [โฆ] </span><span style="color:#608b4e;">// test_main(), println(โฆ), and hlt_loop()
</span><span>}
</span></code></pre>
<p>ุชุงุจุน <a href="https://docs.rs/x86_64/0.14.2/x86_64/registers/control/struct.Cr3.html#method.read"><code>Cr3::read</code></a> ุงุฒ <code> x86_64</code> ุฌุฏูู ุตูุญู ุณุทุญ 4 ฺฉู ุฏุฑ ุญุงู ุญุงุถุฑ ูุนุงู ุงุณุช ุฑุง ุงุฒ ุซุจุงุช <code>CR3</code> ุจุฑูโฺฏุฑุฏุงูุฏ. ฺฉ ุชุงูพู (ฺฉููู: tuple) ุงุฒ ููุน <a href="https://docs.rs/x86_64/0.14.2/x86_64/structures/paging/frame/struct.PhysFrame.html"><code>PhysFrame</code></a> ู <a href="https://docs.rs/x86_64/0.14.2/x86_64/registers/control/struct.Cr3Flags.html"><code>Cr3Flags</code></a> ุจุฑูโฺฏุฑุฏุงูุฏ. ูุง ููุท ุจู ูุงุจ ุนูุงููโูููุฏูุ ุจูุงุจุฑุงู ุนูุตุฑ ุฏูู ุชุงูพู ุฑุง ูุงุฏุฏู ูโฺฏุฑู.</p>
<p>ููฺฏุงู ฺฉู ุขู ุฑุง ุงุฌุฑุง ูโฺฉููุ ุฎุฑูุฌ ุฒุฑ ุฑุง ูุดุงูุฏู ูโฺฉูู:</p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>Level 4 page table at: PhysAddr(0x1000)
</span></code></pre>
<p>ุจูุงุจุฑุงู ุฌุฏูู ุตูุญู ุณุทุญ 4 ฺฉู ุฏุฑ ุญุงู ุญุงุถุฑ ูุนุงู ุงุณุช ุฏุฑ ุขุฏุฑุณ <code>0x100</code> ุฏุฑ ุญุงูุธู <em>ูุฒฺฉ</em> ุฐุฎุฑู ูโุดูุฏุ ููุงูโุทูุฑ ฺฉู ุชูุณุท ููุน ุจุณุชูโุจูุฏ <a href="https://docs.rs/x86_64/0.14.2/x86_64/addr/struct.PhysAddr.html"><code>PhysAddr</code></a> ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช. ุญุงู ุณูุงู ุงู ุงุณุช: ฺฺฏููู ูโุชูุงูู ุงุฒ ูุณุชู ุฎูุฏ ุจู ุงู ุฌุฏูู ุฏุณุชุฑุณ ูพุฏุง ฺฉููุ</p>
<p>ุฏุณุชุฑุณ ูุณุชูู ุจู ุญุงูุธู ูุฒฺฉ ุฏุฑ ููฺฏุงู ูุนุงู ุจูุฏู ุตูุญูโุจูุฏ ุงูฺฉุงู ูพุฐุฑ ูุณุชุ ุฒุฑุง ุจุฑูุงููโูุง ุจู ุฑุงุญุช ูโุชูุงููุฏ ูุญุงูุธุช ุงุฒ ุญุงูุธู (ุชุฑุฌูู: memory protection) ุฑุง ุฏูุฑ ุจุฒููุฏ ู ุฏุฑ ุบุฑ ุงูโุตูุฑุช ุจู ุญุงูุธู ุณุงุฑ ุจุฑูุงููโูุง ุฏุณุชุฑุณ ูพุฏุง ูโฺฉููุฏ. ุจูุงุจุฑุงู ุชููุง ุฑุงู ุฏุณุชุฑุณ ุจู ุฌุฏูู ุงุฒ ุทุฑู ุจุฑุฎ ุงุฒ ุตูุญูโูุง ูุฌุงุฒ ุงุณุช ฺฉู ุจู ูุงุจ ูุฒฺฉ ุฏุฑ ุขุฏุฑุณ<code>0x1000</code> ูฺฏุงุดุช ุดุฏู. ุงู ูุดฺฉู ุงุฌุงุฏ ูฺฏุงุดุช ุจุฑุง ูุงุจโูุง ุฌุฏูู ุตูุญู ฺฉ ูุดฺฉู ฺฉู ุงุณุชุ ุฒุฑุง ูุณุชู ุจู ุทูุฑ ูุฑุชุจ ุจู ุฌุฏููโูุง ุตูุญู ุฏุณุชุฑุณ ุฏุงุฑุฏุ ุจู ุนููุงู ูุซุงู ููฺฏุงู ุงุฎุชุตุงุต ูพุดุชู ุจุฑุง ฺฉ ูุฎู (ุชุฑุฌูู: thread) ุฌุฏุฏ.</p>
<p>ุฑุงู ุญูโูุง ุงู ูุดฺฉู ุฏุฑ ูพุณุช ุจุนุฏ ุจุง ุฌุฒุฆุงุช ุชูุถุญ ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<h2 id="khlsh"><a class="zola-anchor" href="index.html#khlsh" aria-label="Anchor link for: khlsh">๐</a>ุฎูุงุตู</h2>
<p>ุงู ูพุณุช ุฏู ุฑูุด ุญูุงุธุช ุงุฒ ุญุงูุธู ุฑุง ุงุฑุงุฆู ูโุฏูุฏ: ุชูุณูโุจูุฏ ู ุตูุญูโุจูุฏ. ุฏุฑ ุญุงู ฺฉู ุงูู ุงุฒ ูุงุญู ุญุงูุธู ุจุง ุงูุฏุงุฒู ูุชุบุฑ ุงุณุชูุงุฏู ูโฺฉูุฏ ู ุงุฒ ุชฺฉูโุชฺฉู ุดุฏู ุฎุงุฑุฌ ุฑูุฌ ูโุจุฑุฏุ ุฏูู ุงุฒ ุตูุญุงุช ุจุง ุงูุฏุงุฒู ุซุงุจุช ุงุณุชูุงุฏู ูโฺฉูุฏ ู ุงูฺฉุงู ฺฉูุชุฑู ุฏููโุชุฑ ูุฌูุฒูุง ุฏุณุชุฑุณ ุฑุง ูุฑุงูู ูโฺฉูุฏ.</p>
<p>ุตูุญูโุจูุฏ ุงุทูุงุนุงุช ูฺฏุงุดุช ุตูุญุงุช ููุฌูุฏ ุฏุฑ ุฌุฏููโูุง ุตูุญู ุจุง ฺฉ ุง ฺูุฏ ุณุทุญ ุฑุง ุฐุฎุฑู ูโฺฉูุฏ. ูุนูุงุฑ x86_64 ุงุฒ ุฌุฏููโูุง ุตูุญู ุจุง 4 ุณุทุญ ู ุงูุฏุงุฒู ุตูุญู 4KiB ุงุณุชูุงุฏู ูโฺฉูุฏ. ุณุฎุชโุงูุฒุงุฑ ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ุฌุฏููโูุง ุตูุญู ุฑุง ูุฑูุฑ ูโฺฉูุฏ ู ุชุฑุฌููโูุง ุญุงุตู ุฑุง ุฏุฑ TLB ุฐุฎุฑู ูโฺฉูุฏ. ุงู ุจุงูุฑ ุจู ุทูุฑ ุดูุงู ุจูโุฑูุฒ ููโุดูุฏ ู ุจุงุฏ ุจู ุตูุฑุช ุฏุณุช ุจุง ุชุบุฑ ุฌุฏูู ุตูุญูุ ููุงุด ุดูุฏ.</p>
<p>ูุง ูููุฏู ฺฉู ูุณุชู ูุง ุฏุฑ ุญุงู ุญุงุถุฑ ุฏุฑ ุจุงูุง ุตูุญูโุจูุฏ ุงุฌุฑุง ูโุดูุฏ ู ุฏุณุชุฑุณ ุบุฑูุงููู ุญุงูุธู ุจุงุนุซ ุงุณุชุซูุงูุง ุฎุทุง ุตูุญู ูโุดูุฏ. ูุง ุณุน ฺฉุฑุฏู ุจู ุฌุฏููโูุง ุตูุญู ูุนู ุฏุณุชุฑุณ ูพุฏุง ฺฉููุ ุงูุง ูุงุฏุฑ ุจู ุงูุฌุงู ุงู ฺฉุงุฑ ูุจูุฏู ุฒุฑุง ุซุจุงุช CR3 ฺฉ ุขุฏุฑุณ ูุฒฺฉ ุฑุง ุฐุฎุฑู ูโฺฉูุฏ ฺฉู ูุง ููโุชูุงูู ูุณุชููุงู ุงุฒ ูุณุชู ุจู ุขู ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดู.</p>
<h2 id="b-dy-chyst"><a class="zola-anchor" href="index.html#b-dy-chyst" aria-label="Anchor link for: b-dy-chyst">๐</a>ุจุนุฏ ฺุณุชุ</h2>
<p>ุฏุฑ ูพุณุช ุจุนุฏ ูุญูู ูพุงุฏูโุณุงุฒ ูพุดุชุจุงู ุจุฑุง ุตูุญูโุจูุฏ ุฏุฑ ูุณุชู ุชูุถุญ ุฏุงุฏู ุดุฏู ุงุณุช. ฺฉู ุฑูุดโูุง ูุฎุชูู ุจุฑุง ุฏุณุชุฑุณ ุจู ุญุงูุธู ูุฒฺฉ ุงุฒ ูุณุชู ุงุฑุงุฆู ูโุฏูุฏุ ฺฉู ุฏุณุชุฑุณ ุจู ุฌุฏููโูุง ุตูุญูโุง ฺฉู ูุณุชู ุฏุฑ ุขู ุงุฌุฑุง ูโุดูุฏ ุฑุง ุงูฺฉุงูโูพุฐุฑ ูโฺฉูุฏ. ุฏุฑ ุงู ูุฑุญูู ูุง ูโุชูุงูู ุชูุงุจุน ุฑุง ุจุฑุง ุชุฑุฌูู ุขุฏุฑุณโูุง ูุฌุงุฒ ุจู ูุฒฺฉ ู ุงุฌุงุฏ ูฺฏุงุดุชโูุง ุฌุฏุฏ ุฏุฑ ุฌุฏููโูุง ุตูุญู ูพุงุฏูโุณุงุฒ ฺฉูู.</p>

    </div>

    <div class="post-footer-support right-to-left">
        <h2>Support Me</h2>
        
<p>
    Creating and <a href="../../status-update/index.html">maintaining</a> this blog and the associated libraries is a lot of work, but I really enjoy doing it. By supporting me, you allow me to invest more time in new content, new features, and continuous maintenance.
</p>
<p>
    The best way to support me is to <a href="https://github.com/sponsors/phil-opp"><em>sponsor me on GitHub</em></a>, since they don't charge any fees. If you prefer other platforms, I also have <a href="https://www.patreon.com/phil_opp"><em>Patreon</em></a> and <a href="https://donorbox.org/phil-opp"><em>Donorbox</em></a> accounts. The latter is the most flexible as it supports multiple currencies and one-time contributions.
</p>
<p>
    Thank you!
</p>

    </div>

    <hr>
    <div class="PageNavigation">
        
            <a class="prev" href="../hardware-interrupts/index.html">&laquo; ููููโูุง ุณุฎุชโุงูุฒุงุฑ</a>
        
        
    </div>

    <hr>
    <section>
        <h2 id="comments" class="right-to-left">ูุธุฑุงุช</h2>

        
            
            
            
        
        
    
        
        
    

    
        
        
    

    <p class="comment-note">
        Do you have a problem, want to share feedback, or discuss further ideas? Feel free to leave a comment here! Please stick to English and follow Rust's <a href="https://www.rust-lang.org/policies/code-of-conduct">code of conduct</a>. This comment thread directly maps to a <a href="https://github.com/phil-opp/blog_os/discussions/categories/post-comments-translated?discussions_q=%22Introduction%20to%20Paging%20%28fa%29%22"><em>discussion on GitHub</em></a>, so you can also comment there if you prefer.
    </p>

    <div class="giscus"></div>

    <script src="https://giscus.app/client.js"
        data-repo="phil-opp/blog_os"
        data-repo-id="MDEwOlJlcG9zaXRvcnkzOTU3NTEwMQ=="
        data-category="Post Comments (translated)"
        data-category-id="MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDE4OTg1"
    
        data-mapping="specific"
    
        data-term="Introduction to Paging (fa)"
        data-reactions-enabled="1"
        data-emit-metadata="1"
        data-theme="preferred_color_scheme"
        data-lang="fa"
        crossorigin="anonymous"
        async>
    </script>

    <p class="comment-directly-on-github">
        Instead of authenticating the <a href="https://giscus.app">giscus</a> application, you can also comment directly <a href="https://github.com/phil-opp/blog_os/discussions/categories/post-comments-translated?discussions_q=%22Introduction%20to%20Paging%20%28fa%29%22"><em>on GitHub</em></a>.
    </p>

        <p class="right-to-left">
            ูุทูุง ูุธุฑุงุช ุฎูุฏ ุฑุง ุฏุฑ ุตูุฑุช ุงูฺฉุงู ุจู ุงูฺฏูุณ ุจููุณุฏ.
        </p>
        
    </section>

    <aside class="page-aside-right">
        <div class="block" id="language-selector">
            <h2>Other Languages</h2>
            
            <ul><li data-lang-switch-to="en" class=""><a href="../../paging-introduction/index.html">
                        English (original)
                    </a></li><li data-lang-switch-to="zh-CN" class=""><a href="../../zh-CN/paging-introduction/index.html">
                        Chinese (simplified)
                    </a></li><li data-lang-switch-to="ja" class=""><a href="../../ja/paging-introduction/index.html">
                        Japanese
                    </a></li></ul>
        </div>
    </aside>

</main>
        </div>

        <div></div>

        <footer class="footer">
            <hr>
            <small>
                &copy; <time datetime="2022">2022</time>. All rights reserved.
                <a class="spaced" href="https://github.com/phil-opp/blog_os#license">License</a>
                <a class="spaced" href="../../contact/index.html">Contact</a>
            </small>
        </footer>
    </div>
</body>

</html>
